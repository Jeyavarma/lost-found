(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3240],{96:(e,s,a)=>{Promise.resolve().then(a.bind(a,6781))},235:(e,s,a)=>{"use strict";a.d(s,{J:()=>d});var t=a(5155),l=a(2115),r=a(489),i=a(3101),n=a(5016);let c=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.b,{ref:s,className:(0,n.cn)(c(),a),...l})});d.displayName=r.b.displayName},373:(e,s,a)=>{"use strict";a.d(s,{f:()=>t});let t="https://lost-found-79xn.onrender.com"},2559:(e,s,a)=>{"use strict";a.d(s,{Fc:()=>c,TN:()=>d});var t=a(5155),l=a(2115),r=a(3101),i=a(5016);let n=(0,r.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),c=l.forwardRef((e,s)=>{let{className:a,variant:l,...r}=e;return(0,t.jsx)("div",{ref:s,role:"alert",className:(0,i.cn)(n({variant:l}),a),...r})});c.displayName="Alert",l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("h5",{ref:s,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",a),...l})}).displayName="AlertTitle";let d=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",a),...l})});d.displayName="AlertDescription"},4679:(e,s,a)=>{"use strict";a.d(s,{Cf:()=>x,L3:()=>u,c7:()=>h,lG:()=>c,zM:()=>d});var t=a(5155),l=a(2115),r=a(9511),i=a(5229),n=a(5016);let c=r.bL,d=r.l9,o=r.ZL;r.bm;let m=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.hJ,{ref:s,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...l})});m.displayName=r.hJ.displayName;let x=l.forwardRef((e,s)=>{let{className:a,children:l,...c}=e;return(0,t.jsxs)(o,{children:[(0,t.jsx)(m,{}),(0,t.jsxs)(r.UC,{ref:s,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...c,children:[l,(0,t.jsxs)(r.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(i.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});x.displayName=r.UC.displayName;let h=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...a})};h.displayName="DialogHeader";let u=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.hE,{ref:s,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",a),...l})});u.displayName=r.hE.displayName,l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.VY,{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",a),...l})}).displayName=r.VY.displayName},6781:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>E});var t=a(5155),l=a(2115),r=a(3209),i=a(7003),n=a(7812),c=a(235),d=a(7599),o=a(5016);let m=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(d.bL,{className:(0,o.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...l,ref:s,children:(0,t.jsx)(d.zi,{className:(0,o.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});m.displayName=d.bL.displayName;var x=a(2559),h=a(4679),u=a(2529),f=a(2056),g=a(906),j=a(5710),N=a(4172),p=a(523),b=a(9559),v=a(5870),w=a(9867),y=a(2952),A=a(7910),k=a(9708),C=a(1169),S=a(6617),R=a(1360),D=a(7176),T=a(8209),z=a(373);function E(){let[e,s]=(0,l.useState)(!1),[a,d]=(0,l.useState)(""),[o,E]=(0,l.useState)(""),[I,B]=(0,l.useState)({maintenanceMode:!1,registrationEnabled:!0,emailNotifications:!0,autoApproval:!1}),[Z,F]=(0,l.useState)({totalUsers:0,totalItems:0,lostItems:0,foundItems:0});(0,l.useEffect)(()=>{(()=>{if(!(0,T.isAuthenticated)()){window.location.href="/login";return}let e=(0,T.gL)();if((null==e?void 0:e.role)!=="admin"){window.location.href="/dashboard";return}P()})()},[]);let P=async()=>{try{let e=(0,T.getAuthToken)(),s=await fetch("".concat(z.f,"/api/admin/stats"),{headers:{Authorization:"Bearer ".concat(e)}});if(s.ok){let e=await s.json();F(e)}}catch(e){console.error("Error fetching stats:",e)}},J=async e=>{s(!0),d(""),E("");try{switch(await new Promise(e=>setTimeout(e,2e3)),e){case"clearCache":d("System cache cleared successfully");break;case"backupDatabase":d("Database backup created successfully");break;case"optimizeDatabase":d("Database optimized successfully");break;case"restartServer":d("Server restart initiated");break;default:d("Action completed")}}catch(e){E("Action failed")}finally{s(!1)}},L=async e=>{if(confirm("Are you sure you want to ".concat(e,"? This action cannot be undone."))){s(!0),d(""),E("");try{let s=(0,T.getAuthToken)();switch(e){case"deleteAllItems":let a=await fetch("".concat(z.f,"/api/admin/items"),{headers:{Authorization:"Bearer ".concat(s)}});if(a.ok){let e=(await a.json()).map(e=>e._id);e.length>0?(await fetch("".concat(z.f,"/api/admin/bulk-delete-items"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)},body:JSON.stringify({itemIds:e})}),d("Deleted ".concat(e.length," items"))):d("No items to delete")}break;case"resetAllPasswords":d("Password reset emails sent to all users");break;default:d("Bulk action completed")}P()}catch(e){E("Bulk action failed")}finally{s(!1)}}};return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)(D.A,{}),(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mcc-text-primary font-serif mb-2",children:"System Control Panel"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Advanced system administration and control"})]}),a&&(0,t.jsxs)(x.Fc,{className:"mb-6 border-green-200 bg-green-50",children:[(0,t.jsx)(u.A,{className:"w-4 h-4"}),(0,t.jsx)(x.TN,{className:"text-green-800",children:a})]}),o&&(0,t.jsxs)(x.Fc,{className:"mb-6 border-red-200 bg-red-50",children:[(0,t.jsx)(f.A,{className:"w-4 h-4"}),(0,t.jsx)(x.TN,{className:"text-red-800",children:o})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsxs)(r.Zp,{className:"mcc-card",children:[(0,t.jsx)(r.aR,{children:(0,t.jsxs)(r.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(g.A,{className:"w-5 h-5"}),"System Status"]})}),(0,t.jsxs)(r.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-green-50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(j.A,{className:"w-4 h-4 text-green-600"}),(0,t.jsx)("span",{className:"font-medium",children:"Database"})]}),(0,t.jsxs)(n.E,{className:"bg-green-500 text-white",children:[(0,t.jsx)(u.A,{className:"w-3 h-3 mr-1"}),"Connected"]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-green-50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(N.A,{className:"w-4 h-4 text-green-600"}),(0,t.jsx)("span",{className:"font-medium",children:"API Server"})]}),(0,t.jsxs)(n.E,{className:"bg-green-500 text-white",children:[(0,t.jsx)(u.A,{className:"w-3 h-3 mr-1"}),"Running"]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-green-50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(p.A,{className:"w-4 h-4 text-green-600"}),(0,t.jsx)("span",{className:"font-medium",children:"Storage"})]}),(0,t.jsxs)(n.E,{className:"bg-green-500 text-white",children:[(0,t.jsx)(u.A,{className:"w-3 h-3 mr-1"}),"Available"]})]}),(0,t.jsxs)(i.$,{onClick:P,className:"w-full",variant:"outline",children:[(0,t.jsx)(b.A,{className:"w-4 h-4 mr-2"}),"Refresh Status"]})]})]}),(0,t.jsxs)(r.Zp,{className:"mcc-card",children:[(0,t.jsx)(r.aR,{children:(0,t.jsxs)(r.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(v.A,{className:"w-5 h-5"}),"System Actions"]})}),(0,t.jsxs)(r.Wu,{className:"space-y-3",children:[(0,t.jsxs)(i.$,{onClick:()=>J("clearCache"),className:"w-full",variant:"outline",disabled:e,children:[(0,t.jsx)(b.A,{className:"w-4 h-4 mr-2"}),"Clear Cache"]}),(0,t.jsxs)(i.$,{onClick:()=>J("backupDatabase"),className:"w-full",variant:"outline",disabled:e,children:[(0,t.jsx)(w.A,{className:"w-4 h-4 mr-2"}),"Backup Database"]}),(0,t.jsxs)(i.$,{onClick:()=>J("optimizeDatabase"),className:"w-full",variant:"outline",disabled:e,children:[(0,t.jsx)(j.A,{className:"w-4 h-4 mr-2"}),"Optimize Database"]}),(0,t.jsxs)(i.$,{onClick:()=>J("restartServer"),className:"w-full bg-orange-600 hover:bg-orange-700 text-white",disabled:e,children:[(0,t.jsx)(y.A,{className:"w-4 h-4 mr-2"}),"Restart Server"]})]})]}),(0,t.jsxs)(r.Zp,{className:"mcc-card",children:[(0,t.jsx)(r.aR,{children:(0,t.jsxs)(r.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(A.A,{className:"w-5 h-5"}),"System Settings"]})}),(0,t.jsxs)(r.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(k.A,{className:"w-4 h-4"}),(0,t.jsx)(c.J,{htmlFor:"maintenance",children:"Maintenance Mode"})]}),(0,t.jsx)(m,{id:"maintenance",checked:I.maintenanceMode,onCheckedChange:e=>B({...I,maintenanceMode:e})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(C.A,{className:"w-4 h-4"}),(0,t.jsx)(c.J,{htmlFor:"registration",children:"Registration"})]}),(0,t.jsx)(m,{id:"registration",checked:I.registrationEnabled,onCheckedChange:e=>B({...I,registrationEnabled:e})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(g.A,{className:"w-4 h-4"}),(0,t.jsx)(c.J,{htmlFor:"notifications",children:"Email Notifications"})]}),(0,t.jsx)(m,{id:"notifications",checked:I.emailNotifications,onCheckedChange:e=>B({...I,emailNotifications:e})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(u.A,{className:"w-4 h-4"}),(0,t.jsx)(c.J,{htmlFor:"autoApproval",children:"Auto Approval"})]}),(0,t.jsx)(m,{id:"autoApproval",checked:I.autoApproval,onCheckedChange:e=>B({...I,autoApproval:e})})]})]})]})]}),(0,t.jsxs)(r.Zp,{className:"mcc-card mt-8",children:[(0,t.jsx)(r.aR,{children:(0,t.jsxs)(r.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(j.A,{className:"w-5 h-5"}),"System Statistics"]})}),(0,t.jsx)(r.Wu,{children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"p-4 border rounded-lg text-center",children:[(0,t.jsx)(C.A,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:Z.totalUsers}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Total Users"})]}),(0,t.jsxs)("div",{className:"p-4 border rounded-lg text-center",children:[(0,t.jsx)(S.A,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-green-600",children:Z.totalItems}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Total Items"})]}),(0,t.jsxs)("div",{className:"p-4 border rounded-lg text-center",children:[(0,t.jsx)(f.A,{className:"w-8 h-8 text-red-600 mx-auto mb-2"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-red-600",children:Z.lostItems}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Lost Items"})]}),(0,t.jsxs)("div",{className:"p-4 border rounded-lg text-center",children:[(0,t.jsx)(u.A,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:Z.foundItems}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Found Items"})]})]})})]}),(0,t.jsxs)(r.Zp,{className:"mcc-card mt-8",children:[(0,t.jsx)(r.aR,{children:(0,t.jsxs)(r.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(f.A,{className:"w-5 h-5 text-red-600"}),"Dangerous Operations"]})}),(0,t.jsxs)(r.Wu,{children:[(0,t.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(f.A,{className:"w-5 h-5 text-red-600"}),(0,t.jsx)("span",{className:"font-semibold text-red-800",children:"Warning"})]}),(0,t.jsx)("p",{className:"text-red-700 text-sm",children:"These operations are irreversible and can cause data loss. Use with extreme caution."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)(h.lG,{children:[(0,t.jsx)(h.zM,{asChild:!0,children:(0,t.jsxs)(i.$,{className:"bg-red-500 hover:bg-red-600 text-white",children:[(0,t.jsx)(R.A,{className:"w-4 h-4 mr-2"}),"Delete All Items"]})}),(0,t.jsxs)(h.Cf,{children:[(0,t.jsx)(h.c7,{children:(0,t.jsx)(h.L3,{children:"Confirm Deletion"})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["This will permanently delete all ",Z.totalItems," items from the system. This action cannot be undone."]}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsx)(i.$,{onClick:()=>L("deleteAllItems"),className:"bg-red-600 hover:bg-red-700 text-white",disabled:e,children:e?"Deleting...":"Confirm Delete"})})]})]})]}),(0,t.jsxs)(i.$,{onClick:()=>L("resetAllPasswords"),className:"bg-orange-600 hover:bg-orange-700 text-white",disabled:e,children:[(0,t.jsx)(A.A,{className:"w-4 h-4 mr-2"}),"Reset All Passwords"]})]})]})]})]})]})}}},e=>{e.O(0,[5707,297,3083,3739,7834,6552,8441,1255,7358],()=>e(e.s=96)),_N_E=e.O()}]);