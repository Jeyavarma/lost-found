(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3698],{235:(e,s,a)=>{"use strict";a.d(s,{J:()=>c});var t=a(5155),l=a(2115),r=a(489),i=a(3101),n=a(5016);let d=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.b,{ref:s,className:(0,n.cn)(d(),a),...l})});c.displayName=r.b.displayName},373:(e,s,a)=>{"use strict";a.d(s,{f:()=>t});let t="https://lost-found-79xn.onrender.com"},2559:(e,s,a)=>{"use strict";a.d(s,{Fc:()=>d,TN:()=>c});var t=a(5155),l=a(2115),r=a(3101),i=a(5016);let n=(0,r.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=l.forwardRef((e,s)=>{let{className:a,variant:l,...r}=e;return(0,t.jsx)("div",{ref:s,role:"alert",className:(0,i.cn)(n({variant:l}),a),...r})});d.displayName="Alert",l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("h5",{ref:s,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",a),...l})}).displayName="AlertTitle";let c=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",a),...l})});c.displayName="AlertDescription"},3492:(e,s,a)=>{Promise.resolve().then(a.bind(a,5782))},4679:(e,s,a)=>{"use strict";a.d(s,{Cf:()=>x,L3:()=>u,c7:()=>h,lG:()=>d,zM:()=>c});var t=a(5155),l=a(2115),r=a(9511),i=a(5229),n=a(5016);let d=r.bL,c=r.l9,o=r.ZL;r.bm;let m=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.hJ,{ref:s,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...l})});m.displayName=r.hJ.displayName;let x=l.forwardRef((e,s)=>{let{className:a,children:l,...d}=e;return(0,t.jsxs)(o,{children:[(0,t.jsx)(m,{}),(0,t.jsxs)(r.UC,{ref:s,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...d,children:[l,(0,t.jsxs)(r.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(i.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});x.displayName=r.UC.displayName;let h=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...a})};h.displayName="DialogHeader";let u=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.hE,{ref:s,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",a),...l})});u.displayName=r.hE.displayName,l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.VY,{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",a),...l})}).displayName=r.VY.displayName},5782:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>E});var t=a(5155),l=a(2115),r=a(3209),i=a(7003),n=a(7812),d=a(6170),c=a(4679),o=a(235),m=a(7507),x=a(2559),h=a(7001),u=a(2529),j=a(2056),p=a(1169),g=a(6617),f=a(6651),v=a(6983),N=a(2516),b=a(6583),y=a(5370),w=a(1010),C=a(534),A=a(5870),I=a(4172),k=a(9559),S=a(7828),T=a(8874),R=a(1360),J=a(2619),P=a.n(J),F=a(7176),_=a(8209),z=a(373);function E(){let[e,s]=(0,l.useState)(null),[a,J]=(0,l.useState)({totalUsers:0,totalItems:0,lostItems:0,foundItems:0,pendingClaims:0,verifiedClaims:0}),[E,$]=(0,l.useState)([]),[D,U]=(0,l.useState)([]),[B,L]=(0,l.useState)(!1),[q,Z]=(0,l.useState)(!1),[V,M]=(0,l.useState)(!1),[O,W]=(0,l.useState)(null),[Y,G]=(0,l.useState)(""),[K,H]=(0,l.useState)(""),[Q,X]=(0,l.useState)({name:"",email:"",password:"",role:"student",phone:"",studentId:"",department:""}),[ee,es]=(0,l.useState)(""),[ea,et]=(0,l.useState)(""),[el,er]=(0,l.useState)(!1),[ei,en]=(0,l.useState)({_id:"",name:"",email:"",role:"student",phone:"",studentId:"",department:"",year:"",shift:""}),[ed,ec]=(0,l.useState)(!1),[eo,em]=(0,l.useState)({_id:"",title:"",description:"",category:"",status:"",location:"",contactInfo:""});(0,l.useEffect)(()=>{(()=>{if(!(0,_.isAuthenticated)()){window.location.href="/login";return}let e=(0,_.gL)();if((null==e?void 0:e.role)!=="admin"){window.location.href="/dashboard";return}s(e),ex()})()},[]);let ex=async()=>{L(!0),H("");try{let e=(0,_.getAuthToken)();console.log("\uD83D\uDD17 Backend URL:",z.f),console.log("\uD83D\uDD11 Token:",e?"Present":"Missing"),console.log("\uD83D\uDCCA Fetching admin data..."),console.log("\uD83D\uDCCA Fetching admin stats...");let s=await fetch("".concat(z.f,"/api/admin/stats"),{headers:{Authorization:"Bearer ".concat(e)}});if(console.log("\uD83D\uDCCA Stats response:",s.status),s.ok){let e=await s.json();console.log("✅ Stats data received:",e),J({totalUsers:e.totalUsers||0,totalItems:e.totalItems||0,lostItems:e.lostItems||0,foundItems:e.foundItems||0,pendingClaims:e.pendingItems||0,verifiedClaims:e.resolvedItems||0})}else{let e=await s.text();console.error("❌ Stats API error:",e),H("Stats API failed: ".concat(s.status," - ").concat(e));return}console.log("\uD83D\uDCE6 Fetching recent items...");let a=await fetch("".concat(z.f,"/api/admin/recent-items"),{headers:{Authorization:"Bearer ".concat(e)}});if(console.log("\uD83D\uDCE6 Items response:",a.status),a.ok){let e=await a.json();console.log("✅ Items data received:",(null==e?void 0:e.length)||0,"items"),$(e||[])}else{let e=await a.text();console.error("⚠️ Items API error (non-critical):",e)}console.log("⏳ Fetching pending claims...");let t=await fetch("".concat(z.f,"/api/admin/claims/pending"),{headers:{Authorization:"Bearer ".concat(e)}});if(console.log("⏳ Claims response:",t.status),t.ok){let e=await t.json();console.log("✅ Claims data received:",(null==e?void 0:e.length)||0,"claims");let s=(e||[]).map(e=>{var s,a,t;return{_id:e._id,itemId:e._id,claimantId:(null==(s=e.claimedBy)?void 0:s._id)||"unknown",ownershipProof:e.ownershipProof||"No proof provided",additionalInfo:e.additionalClaimInfo||e.description,status:"pending",createdAt:e.claimDate||e.createdAt,item:e,claimant:{name:(null==(a=e.claimedBy)?void 0:a.name)||"Anonymous",email:(null==(t=e.claimedBy)?void 0:t.email)||"unknown@mcc.edu"}}});U(s)}else console.error("⚠️ Claims API error (non-critical):",t.status);console.log("\uD83C\uDF89 Admin data loaded successfully!")}catch(e){console.error("\uD83D\uDCA5 Critical error fetching admin data:",e),H("Network error: ".concat(e,". Check if backend is running at ").concat(z.f))}finally{L(!1)}},eh=async e=>{e.preventDefault();try{let e=(0,_.getAuthToken)(),s=await fetch("".concat(z.f,"/api/admin/users"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(Q)});if(s.ok){let e=await s.json();G(e.message),X({name:"",email:"",password:"",role:"student",phone:"",studentId:"",department:""}),Z(!1),ex()}else{let e=await s.json();H(e.error||"Failed to create user")}}catch(e){H("Failed to create user")}},eu=async e=>{e.preventDefault();try{let e=(0,_.getAuthToken)(),s=await fetch("".concat(z.f,"/api/admin/reset-password"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({email:ee,newPassword:"MCC@2024"})});if(s.ok){let e=await s.json();G(e.message),es(""),M(!1)}else{let e=await s.json();H(e.error||"Failed to reset password")}}catch(e){H("Failed to reset password")}},ej=async(e,s)=>{try{let a=(0,_.getAuthToken)(),t=await fetch("".concat(z.f,"/api/admin/claims/").concat(e,"/").concat(s),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({adminNotes:ea})});if(t.ok){let s=await t.json();G(s.message),U(s=>s.filter(s=>s._id!==e)),W(null),et(""),ex()}else{let e=await t.json();H(e.error||"Failed to ".concat(s," claim"))}}catch(e){H("Failed to ".concat(s," claim"))}},ep=async e=>{if(confirm("Are you sure you want to delete this item?"))try{let s=(0,_.getAuthToken)();(await fetch("".concat(z.f,"/api/admin/items/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(s)}})).ok?(G("Item deleted successfully"),$(s=>s.filter(s=>s._id!==e)),ex()):H("Failed to delete item")}catch(e){H("Failed to delete item")}},eg=async e=>{e.preventDefault();try{let e=(0,_.getAuthToken)(),s=await fetch("".concat(z.f,"/api/admin/users/").concat(ei._id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(ei)});if(s.ok){let e=await s.json();G(e.message),er(!1),en({_id:"",name:"",email:"",role:"student",phone:"",studentId:"",department:"",year:"",shift:""}),ex()}else{let e=await s.json();H(e.error||"Failed to update user")}}catch(e){H("Failed to update user")}},ef=async e=>{e.preventDefault();try{let e=(0,_.getAuthToken)(),s=await fetch("".concat(z.f,"/api/admin/items/").concat(eo._id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(eo)});if(s.ok)G("Item updated successfully"),ec(!1),em({_id:"",title:"",description:"",category:"",status:"",location:"",contactInfo:""}),ex();else{let e=await s.json();H(e.error||"Failed to update item")}}catch(e){H("Failed to update item")}};return B&&0===a.totalUsers?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)(F.A,{}),(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-12",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Loading admin dashboard..."})]})})]}):(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)(F.A,{}),(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mcc-text-primary font-serif mb-2",children:"Admin Dashboard"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Manage the MCC Lost & Found system"})]}),Y&&(0,t.jsxs)(x.Fc,{className:"mb-6 border-green-200 bg-green-50",children:[(0,t.jsx)(u.A,{className:"w-4 h-4"}),(0,t.jsx)(x.TN,{className:"text-green-800",children:Y})]}),K&&(0,t.jsxs)(x.Fc,{className:"mb-6 border-red-200 bg-red-50",children:[(0,t.jsx)(j.A,{className:"w-4 h-4"}),(0,t.jsx)(x.TN,{className:"text-red-800",children:K})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-8",children:[(0,t.jsx)(r.Zp,{className:"mcc-card",children:(0,t.jsxs)(r.Wu,{className:"p-4 text-center",children:[(0,t.jsx)(p.A,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:a.totalUsers}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Users"})]})}),(0,t.jsx)(r.Zp,{className:"mcc-card",children:(0,t.jsxs)(r.Wu,{className:"p-4 text-center",children:[(0,t.jsx)(g.A,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-green-600",children:a.totalItems}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Items"})]})}),(0,t.jsx)(r.Zp,{className:"mcc-card",children:(0,t.jsxs)(r.Wu,{className:"p-4 text-center",children:[(0,t.jsx)(f.A,{className:"w-8 h-8 text-red-600 mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-red-600",children:a.lostItems}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Lost"})]})}),(0,t.jsx)(r.Zp,{className:"mcc-card",children:(0,t.jsxs)(r.Wu,{className:"p-4 text-center",children:[(0,t.jsx)(u.A,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:a.foundItems}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Found"})]})}),(0,t.jsx)(r.Zp,{className:"mcc-card",children:(0,t.jsxs)(r.Wu,{className:"p-4 text-center",children:[(0,t.jsx)(v.A,{className:"w-8 h-8 text-orange-600 mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:a.pendingClaims}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Pending"})]})}),(0,t.jsx)(r.Zp,{className:"mcc-card",children:(0,t.jsxs)(r.Wu,{className:"p-4 text-center",children:[(0,t.jsx)(N.A,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-green-600",children:a.verifiedClaims}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Verified"})]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-1 space-y-4",children:[(0,t.jsxs)(r.Zp,{className:"mcc-card",children:[(0,t.jsx)(r.aR,{children:(0,t.jsx)(r.ZB,{className:"text-lg",children:"Quick Actions"})}),(0,t.jsxs)(r.Wu,{className:"space-y-2",children:[(0,t.jsxs)(c.lG,{open:q,onOpenChange:Z,children:[(0,t.jsx)(c.zM,{asChild:!0,children:(0,t.jsxs)(i.$,{className:"w-full bg-green-500 hover:bg-green-600 text-white",children:[(0,t.jsx)(b.A,{className:"w-4 h-4 mr-2"}),"Create Account"]})}),(0,t.jsxs)(c.Cf,{className:"max-w-md",children:[(0,t.jsx)(c.c7,{children:(0,t.jsx)(c.L3,{children:"Create New Account"})}),(0,t.jsxs)("form",{onSubmit:eh,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(o.J,{children:"Name"}),(0,t.jsx)(d.p,{value:Q.name,onChange:e=>X({...Q,name:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o.J,{children:"Email"}),(0,t.jsx)(d.p,{type:"email",value:Q.email,onChange:e=>X({...Q,email:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o.J,{children:"Password"}),(0,t.jsx)(d.p,{type:"password",value:Q.password,onChange:e=>X({...Q,password:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o.J,{children:"Role"}),(0,t.jsxs)(m.l6,{value:Q.role,onValueChange:e=>X({...Q,role:e}),children:[(0,t.jsx)(m.bq,{children:(0,t.jsx)(m.yv,{})}),(0,t.jsxs)(m.gC,{children:[(0,t.jsx)(m.eb,{value:"student",children:"Student"}),(0,t.jsx)(m.eb,{value:"staff",children:"Staff"}),(0,t.jsx)(m.eb,{value:"admin",children:"Admin"})]})]})]}),(0,t.jsx)(i.$,{type:"submit",className:"w-full",children:"Create Account"})]})]})]}),(0,t.jsxs)(c.lG,{open:V,onOpenChange:M,children:[(0,t.jsx)(c.zM,{asChild:!0,children:(0,t.jsxs)(i.$,{variant:"outline",className:"w-full",children:[(0,t.jsx)(y.A,{className:"w-4 h-4 mr-2"}),"Reset Password"]})}),(0,t.jsxs)(c.Cf,{className:"max-w-md",children:[(0,t.jsx)(c.c7,{children:(0,t.jsx)(c.L3,{children:"Reset User Password"})}),(0,t.jsxs)("form",{onSubmit:eu,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(o.J,{children:"User Email"}),(0,t.jsx)(d.p,{type:"email",value:ee,onChange:e=>es(e.target.value),placeholder:"Enter user email",required:!0})]}),(0,t.jsx)(i.$,{type:"submit",className:"w-full",children:"Send Reset Email"})]})]})]})]})]}),(0,t.jsxs)(r.Zp,{className:"mcc-card",children:[(0,t.jsx)(r.aR,{children:(0,t.jsx)(r.ZB,{className:"text-lg",children:"Management"})}),(0,t.jsxs)(r.Wu,{className:"space-y-2",children:[(0,t.jsx)(P(),{href:"/admin/users",children:(0,t.jsxs)(i.$,{className:"w-full text-sm",variant:"outline",children:[(0,t.jsx)(p.A,{className:"w-4 h-4 mr-2"}),"Users"]})}),(0,t.jsx)(P(),{href:"/admin/users",children:(0,t.jsxs)(i.$,{className:"w-full text-sm",variant:"outline",children:[(0,t.jsx)(w.A,{className:"w-4 h-4 mr-2"}),"Manage Users"]})}),(0,t.jsx)(P(),{href:"/admin/items",children:(0,t.jsxs)(i.$,{className:"w-full text-sm",variant:"outline",children:[(0,t.jsx)(g.A,{className:"w-4 h-4 mr-2"}),"Items"]})}),(0,t.jsx)(P(),{href:"/admin/analytics",children:(0,t.jsxs)(i.$,{className:"w-full text-sm",variant:"outline",children:[(0,t.jsx)(C.A,{className:"w-4 h-4 mr-2"}),"Analytics"]})}),(0,t.jsx)(P(),{href:"/admin/control",children:(0,t.jsxs)(i.$,{className:"w-full text-sm",variant:"outline",children:[(0,t.jsx)(A.A,{className:"w-4 h-4 mr-2"}),"Settings"]})}),(0,t.jsx)(P(),{href:"/admin/system",children:(0,t.jsxs)(i.$,{className:"w-full text-sm",variant:"outline",children:[(0,t.jsx)(I.A,{className:"w-4 h-4 mr-2"}),"System Flow"]})})]})]}),(0,t.jsxs)(r.Zp,{className:"mcc-card",children:[(0,t.jsx)(r.aR,{children:(0,t.jsx)(r.ZB,{className:"text-lg",children:"System"})}),(0,t.jsx)(r.Wu,{className:"space-y-2",children:(0,t.jsxs)(i.$,{onClick:ex,variant:"outline",className:"w-full text-sm",disabled:B,children:[(0,t.jsx)(k.A,{className:"w-4 h-4 mr-2 ".concat(B?"animate-spin":"")}),"Refresh"]})})]})]}),(0,t.jsxs)("div",{className:"lg:col-span-3 space-y-4",children:[(0,t.jsxs)(r.Zp,{className:"mcc-card border-orange-200",children:[(0,t.jsx)(r.aR,{children:(0,t.jsxs)(r.ZB,{className:"flex items-center gap-2 text-orange-700",children:[(0,t.jsx)(j.A,{className:"w-5 h-5"}),"Pending Claims (",D.length,")"]})}),(0,t.jsx)(r.Wu,{children:0===D.length?(0,t.jsxs)("div",{className:"text-center py-6",children:[(0,t.jsx)(u.A,{className:"w-12 h-12 text-green-500 mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-gray-600",children:"No pending claims"})]}):(0,t.jsx)("div",{className:"space-y-3",children:D.map(e=>(0,t.jsx)("div",{className:"border border-orange-200 rounded-lg p-4 bg-orange-50",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold",children:e.item.title}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:["Claimed by: ",e.claimant.name]}),(0,t.jsxs)("p",{className:"text-sm text-gray-700",children:["Proof: ",e.ownershipProof]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(i.$,{size:"sm",onClick:()=>W(e),className:"bg-blue-600 hover:bg-blue-700 text-white",children:(0,t.jsx)(S.A,{className:"w-4 h-4"})}),(0,t.jsx)(i.$,{size:"sm",onClick:()=>ej(e._id,"approve"),className:"bg-green-500 hover:bg-green-600 text-white",children:(0,t.jsx)(u.A,{className:"w-4 h-4"})}),(0,t.jsx)(i.$,{size:"sm",onClick:()=>ej(e._id,"reject"),className:"bg-red-500 hover:bg-red-600 text-white",children:(0,t.jsx)(T.A,{className:"w-4 h-4"})})]})]})},e._id))})})]}),(0,t.jsxs)(r.Zp,{className:"mcc-card",children:[(0,t.jsx)(r.aR,{children:(0,t.jsxs)(r.ZB,{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(g.A,{className:"w-5 h-5"}),"Recent Items"]}),(0,t.jsx)(P(),{href:"/admin/items",children:(0,t.jsx)(i.$,{size:"sm",variant:"outline",children:"View All"})})]})}),(0,t.jsx)(r.Wu,{children:(0,t.jsx)("div",{className:"space-y-3",children:E.map(e=>{var s;return(0,t.jsx)("div",{className:"border rounded-lg p-3",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)("h4",{className:"font-semibold",children:e.title}),(0,t.jsx)(n.E,{className:"lost"===e.status?"bg-red-500 text-white":"bg-green-500 text-white",children:e.status})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[(0,t.jsx)("span",{children:null==(s=e.reportedBy)?void 0:s.name}),(0,t.jsx)("span",{children:e.location}),(0,t.jsx)("span",{children:new Date(e.createdAt).toLocaleDateString()})]})]}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)(i.$,{size:"sm",variant:"outline",onClick:()=>{var s;em({_id:e._id,title:e.title,description:e.description,category:e.category,status:e.status,location:e.location,contactInfo:(null==(s=e.reportedBy)?void 0:s.email)||""}),ec(!0)},children:(0,t.jsx)(w.A,{className:"w-4 h-4"})}),(0,t.jsx)(i.$,{size:"sm",variant:"outline",className:"text-red-600",onClick:()=>ep(e._id),children:(0,t.jsx)(R.A,{className:"w-4 h-4"})})]})]})},e._id)})})})]})]})]}),O&&(0,t.jsx)(c.lG,{open:!!O,onOpenChange:()=>W(null),children:(0,t.jsxs)(c.Cf,{className:"max-w-2xl",children:[(0,t.jsx)(c.c7,{children:(0,t.jsx)(c.L3,{children:"Claim Verification"})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold mb-2",children:"Item Details"}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Title:"})," ",O.item.title]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Description:"})," ",O.item.description]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Location:"})," ",O.item.location]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Category:"})," ",O.item.category]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold mb-2",children:"Claimant Details"}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Name:"})," ",O.claimant.name]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Email:"})," ",O.claimant.email]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Claim Date:"})," ",new Date(O.createdAt).toLocaleDateString()]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold mb-2",children:"Ownership Proof"}),(0,t.jsx)("p",{className:"text-sm bg-gray-50 p-3 rounded",children:O.ownershipProof})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold mb-2",children:"Additional Information"}),(0,t.jsx)("p",{className:"text-sm bg-gray-50 p-3 rounded",children:O.additionalInfo})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o.J,{htmlFor:"adminNotes",children:"Admin Notes"}),(0,t.jsx)(h.T,{id:"adminNotes",value:ea,onChange:e=>et(e.target.value),placeholder:"Add verification notes...",className:"mt-1"})]}),(0,t.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,t.jsxs)(i.$,{onClick:()=>ej(O._id,"approve"),className:"bg-green-500 hover:bg-green-600 text-white",children:[(0,t.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"Approve Claim"]}),(0,t.jsxs)(i.$,{onClick:()=>ej(O._id,"reject"),className:"bg-red-500 hover:bg-red-600 text-white",children:[(0,t.jsx)(T.A,{className:"w-4 h-4 mr-2"}),"Reject Claim"]}),(0,t.jsx)(i.$,{variant:"outline",onClick:()=>W(null),children:"Close"})]})]})]})}),(0,t.jsx)(c.lG,{open:el,onOpenChange:er,children:(0,t.jsxs)(c.Cf,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)(c.c7,{children:(0,t.jsx)(c.L3,{children:"Edit User Details"})}),(0,t.jsxs)("form",{onSubmit:eg,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(o.J,{children:"Full Name *"}),(0,t.jsx)(d.p,{value:ei.name,onChange:e=>en({...ei,name:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o.J,{children:"Email Address *"}),(0,t.jsx)(d.p,{type:"email",value:ei.email,onChange:e=>en({...ei,email:e.target.value}),required:!0})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(o.J,{children:"Role *"}),(0,t.jsxs)(m.l6,{value:ei.role,onValueChange:e=>en({...ei,role:e}),children:[(0,t.jsx)(m.bq,{children:(0,t.jsx)(m.yv,{})}),(0,t.jsxs)(m.gC,{children:[(0,t.jsx)(m.eb,{value:"student",children:"Student"}),(0,t.jsx)(m.eb,{value:"staff",children:"Staff"}),(0,t.jsx)(m.eb,{value:"admin",children:"Admin"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o.J,{children:"Phone Number"}),(0,t.jsx)(d.p,{value:ei.phone,onChange:e=>en({...ei,phone:e.target.value})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(o.J,{children:"Student ID"}),(0,t.jsx)(d.p,{value:ei.studentId,onChange:e=>en({...ei,studentId:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o.J,{children:"Department"}),(0,t.jsxs)(m.l6,{value:ei.department,onValueChange:e=>en({...ei,department:e}),children:[(0,t.jsx)(m.bq,{children:(0,t.jsx)(m.yv,{placeholder:"Select department"})}),(0,t.jsxs)(m.gC,{children:[(0,t.jsx)(m.eb,{value:"Computer Science",children:"Computer Science"}),(0,t.jsx)(m.eb,{value:"Information Technology",children:"Information Technology"}),(0,t.jsx)(m.eb,{value:"Electronics",children:"Electronics"}),(0,t.jsx)(m.eb,{value:"Mechanical",children:"Mechanical"}),(0,t.jsx)(m.eb,{value:"Civil",children:"Civil"}),(0,t.jsx)(m.eb,{value:"Mathematics",children:"Mathematics"}),(0,t.jsx)(m.eb,{value:"Physics",children:"Physics"}),(0,t.jsx)(m.eb,{value:"Chemistry",children:"Chemistry"}),(0,t.jsx)(m.eb,{value:"English",children:"English"}),(0,t.jsx)(m.eb,{value:"Commerce",children:"Commerce"})]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(o.J,{children:"Year"}),(0,t.jsxs)(m.l6,{value:ei.year,onValueChange:e=>en({...ei,year:e}),children:[(0,t.jsx)(m.bq,{children:(0,t.jsx)(m.yv,{placeholder:"Select year"})}),(0,t.jsxs)(m.gC,{children:[(0,t.jsx)(m.eb,{value:"I",children:"I Year"}),(0,t.jsx)(m.eb,{value:"II",children:"II Year"}),(0,t.jsx)(m.eb,{value:"III",children:"III Year"}),(0,t.jsx)(m.eb,{value:"IV",children:"IV Year"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o.J,{children:"Shift"}),(0,t.jsxs)(m.l6,{value:ei.shift,onValueChange:e=>en({...ei,shift:e}),children:[(0,t.jsx)(m.bq,{children:(0,t.jsx)(m.yv,{placeholder:"Select shift"})}),(0,t.jsxs)(m.gC,{children:[(0,t.jsx)(m.eb,{value:"Morning",children:"Morning"}),(0,t.jsx)(m.eb,{value:"Afternoon",children:"Afternoon"})]})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,t.jsx)(i.$,{type:"submit",className:"bg-green-500 hover:bg-green-600 text-white",children:"Update User"}),(0,t.jsx)(i.$,{type:"button",variant:"outline",onClick:()=>er(!1),children:"Cancel"})]})]})]})}),(0,t.jsx)(c.lG,{open:ed,onOpenChange:ec,children:(0,t.jsxs)(c.Cf,{className:"max-w-2xl",children:[(0,t.jsx)(c.c7,{children:(0,t.jsx)(c.L3,{children:"Edit Item"})}),(0,t.jsxs)("form",{onSubmit:ef,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(o.J,{children:"Title *"}),(0,t.jsx)(d.p,{value:eo.title,onChange:e=>em({...eo,title:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o.J,{children:"Category *"}),(0,t.jsxs)(m.l6,{value:eo.category,onValueChange:e=>em({...eo,category:e}),children:[(0,t.jsx)(m.bq,{children:(0,t.jsx)(m.yv,{})}),(0,t.jsxs)(m.gC,{children:[(0,t.jsx)(m.eb,{value:"Electronics",children:"Electronics"}),(0,t.jsx)(m.eb,{value:"Books",children:"Books"}),(0,t.jsx)(m.eb,{value:"Clothing",children:"Clothing"}),(0,t.jsx)(m.eb,{value:"Accessories",children:"Accessories"}),(0,t.jsx)(m.eb,{value:"Documents",children:"Documents"}),(0,t.jsx)(m.eb,{value:"Keys",children:"Keys"})]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o.J,{children:"Description *"}),(0,t.jsx)(h.T,{value:eo.description,onChange:e=>em({...eo,description:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(o.J,{children:"Status *"}),(0,t.jsxs)(m.l6,{value:eo.status,onValueChange:e=>em({...eo,status:e}),children:[(0,t.jsx)(m.bq,{children:(0,t.jsx)(m.yv,{})}),(0,t.jsxs)(m.gC,{children:[(0,t.jsx)(m.eb,{value:"lost",children:"Lost"}),(0,t.jsx)(m.eb,{value:"found",children:"Found"}),(0,t.jsx)(m.eb,{value:"claimed",children:"Claimed"}),(0,t.jsx)(m.eb,{value:"verified",children:"Verified"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o.J,{children:"Location *"}),(0,t.jsx)(d.p,{value:eo.location,onChange:e=>em({...eo,location:e.target.value}),required:!0})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,t.jsx)(i.$,{type:"submit",className:"bg-green-500 hover:bg-green-600 text-white",children:"Update Item"}),(0,t.jsx)(i.$,{type:"button",variant:"outline",onClick:()=>ec(!1),children:"Cancel"})]})]})]})})]})]})}},6170:(e,s,a)=>{"use strict";a.d(s,{p:()=>i});var t=a(5155),l=a(2115),r=a(5016);let i=l.forwardRef((e,s)=>{let{className:a,type:l,...i}=e;return(0,t.jsx)("input",{type:l,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...i})});i.displayName="Input"},7001:(e,s,a)=>{"use strict";a.d(s,{T:()=>i});var t=a(5155),l=a(2115),r=a(5016);let i=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("textarea",{className:(0,r.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...l})});i.displayName="Textarea"},7507:(e,s,a)=>{"use strict";a.d(s,{bq:()=>x,eb:()=>p,gC:()=>j,l6:()=>o,yv:()=>m});var t=a(5155),l=a(2115),r=a(8229),i=a(4033),n=a(2108),d=a(5917),c=a(5016);let o=r.bL;r.YJ;let m=r.WT,x=l.forwardRef((e,s)=>{let{className:a,children:l,...n}=e;return(0,t.jsxs)(r.l9,{ref:s,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...n,children:[l,(0,t.jsx)(r.In,{asChild:!0,children:(0,t.jsx)(i.A,{className:"h-4 w-4 opacity-50"})})]})});x.displayName=r.l9.displayName;let h=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.PP,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...l,children:(0,t.jsx)(n.A,{className:"h-4 w-4"})})});h.displayName=r.PP.displayName;let u=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.wn,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...l,children:(0,t.jsx)(i.A,{className:"h-4 w-4"})})});u.displayName=r.wn.displayName;let j=l.forwardRef((e,s)=>{let{className:a,children:l,position:i="popper",...n}=e;return(0,t.jsx)(r.ZL,{children:(0,t.jsxs)(r.UC,{ref:s,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-gray-300 bg-gray-50 text-gray-900 shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:i,...n,children:[(0,t.jsx)(h,{}),(0,t.jsx)(r.LM,{className:(0,c.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),(0,t.jsx)(u,{})]})})});j.displayName=r.UC.displayName,l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.JU,{ref:s,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...l})}).displayName=r.JU.displayName;let p=l.forwardRef((e,s)=>{let{className:a,children:l,...i}=e;return(0,t.jsxs)(r.q7,{ref:s,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-gray-200 hover:bg-gray-200 focus:text-gray-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...i,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(r.VF,{children:(0,t.jsx)(d.A,{className:"h-4 w-4"})})}),(0,t.jsx)(r.p4,{children:l})]})});p.displayName=r.q7.displayName,l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.wv,{ref:s,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",a),...l})}).displayName=r.wv.displayName}},e=>{e.O(0,[5707,297,3083,3739,5716,2034,6552,8441,1255,7358],()=>e(e.s=3492)),_N_E=e.O()}]);