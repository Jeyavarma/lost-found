(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5741,8209],{235:(e,t,s)=>{"use strict";s.d(t,{J:()=>d});var a=s(5155),r=s(2115),l=s(489),i=s(3101),n=s(5016);let c=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.b,{ref:t,className:(0,n.cn)(c(),s),...r})});d.displayName=l.b.displayName},373:(e,t,s)=>{"use strict";s.d(t,{f:()=>a});let a="https://lost-found-79xn.onrender.com"},689:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>D});var a=s(5155),r=s(2115),l=s(2619),i=s.n(l),n=s(7003),c=s(3209),d=s(6170),o=s(7812),m=s(7507),x=s(235),h=s(9442),u=s(5626),g=s(6630),f=s(6651),p=s(5530),j=s(3),b=s(1873),N=s(6485),v=s(3457),y=s(5937),w=s(7828),C=s(373),A=s(8209),k=s(7520);let S=["All Categories","Electronics","Textbooks","ID Cards","Keys","Academic","Personal Items","Clothing","Sports Equipment","Other"],L=["All Buildings","Computer Science","Mathematics","Science Library","Student Union","Recreation Center","Dining Hall","Engineering","Library"],B=["All Events","Deepwoods","Moonshadow","Octavia","Barnes Hall Day","Martin Hall Day","Games Fury","Founders Day"];function D(){let[e,t]=(0,r.useState)(""),[s,l]=(0,r.useState)("All Categories"),[D,I]=(0,r.useState)("All"),[R,E]=(0,r.useState)("All Buildings"),[T,U]=(0,r.useState)("All"),[z,F]=(0,r.useState)("All Events"),[J,_]=(0,r.useState)(!1),[M,$]=(0,r.useState)("newest"),[O,P]=(0,r.useState)("grid"),[V,Z]=(0,r.useState)(new Set),[q,H]=(0,r.useState)(!1),[G,W]=(0,r.useState)([]),[Y,K]=(0,r.useState)(!0),[Q,X]=(0,r.useState)(null),[ee,et]=(0,r.useState)(!1),[es,ea]=(0,r.useState)("");(0,r.useEffect)(()=>{let e=(0,A.isAuthenticated)();if(et(e),e){let e=(0,A.gL)();ea((null==e?void 0:e.id)||"")}let s=new URLSearchParams(window.location.search),a=s.get("search"),r=s.get("category");a&&t(a),r&&l(r),(async()=>{try{let e=await fetch("".concat(C.f,"/api/items"));if(e.ok){let t=await e.json();W(t)}}catch(e){console.error("Error fetching items:",e)}finally{K(!1)}})()},[]);let er=[...G.filter(t=>{let a=t.title.toLowerCase().includes(e.toLowerCase())||t.description.toLowerCase().includes(e.toLowerCase())||t.location.toLowerCase().includes(e.toLowerCase()),r="All Categories"===s||t.category&&t.category.toLowerCase().trim()===s.toLowerCase().trim()||!t.category&&"Other"===s,l="All"===D||t.status===D,i="All Buildings"===R||t.location&&t.location.toLowerCase().includes(R.toLowerCase()),n="All Events"===z||t.eventName&&t.eventName===z;return a&&r&&l&&i&&n})].sort((e,t)=>{switch(M){case"newest":return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime();case"oldest":return new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime();default:return 0}}),el=async e=>{if(!ee)return void alert("Please login to start a chat");try{var t;let s=(0,A.getAuthToken)();(await fetch("".concat(C.f,"/api/chat/rooms"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)},body:JSON.stringify({itemId:e._id,otherUserId:null==(t=e.reportedBy)?void 0:t._id})})).ok&&X(null)}catch(e){console.error("Failed to start chat:",e)}},ei=e=>{switch(e){case"high":return"bg-red-500";case"medium":return"bg-yellow-500";case"low":return"bg-green-500";default:return"bg-gray-500"}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("nav",{className:"mcc-primary border-b-4 border-brand-accent sticky top-0 z-50 shadow-lg",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between h-20",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsxs)(i(),{href:"/",className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 mcc-accent rounded-lg flex items-center justify-center shadow-lg",children:(0,a.jsx)(h.A,{className:"w-6 h-6 text-brand-text-light"})}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"text-xl font-bold text-brand-text-light font-serif",children:"MCC Lost & Found"}),(0,a.jsx)("span",{className:"text-xs text-gray-300 font-medium",children:"Madras Christian College"})]})]})}),(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)(i(),{href:"/",children:(0,a.jsxs)(n.$,{variant:"ghost",className:"flex items-center gap-2 text-brand-text-light hover:bg-white/10",children:[(0,a.jsx)(u.A,{className:"w-4 h-4"}),"Back to Home"]})})})]})})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(0,a.jsx)("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold mb-2 mcc-text-primary font-serif",children:"Browse All Items"}),(0,a.jsx)("p",{className:"text-sm sm:text-md lg:text-lg text-brand-text-dark",children:"Discover lost and found items from across MCC campus"})]}),(0,a.jsx)("div",{className:"lg:hidden mb-4",children:(0,a.jsxs)(n.$,{variant:"outline",className:"w-full flex items-center justify-center gap-2",onClick:()=>H(!q),children:[(0,a.jsx)(g.A,{className:"w-5 h-5"}),q?"Hide Filters":"Show Filters"]})}),(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[(0,a.jsx)("div",{className:"".concat(q?"block":"hidden"," lg:block w-full lg:w-80 mb-6 lg:mb-0"),children:(0,a.jsxs)(c.Zp,{className:"sticky top-24 mcc-card border-2 border-brand-primary/20 max-h-[calc(100vh-7rem)] flex flex-col",children:[(0,a.jsx)(c.aR,{className:"bg-gray-50 border-b flex-shrink-0",children:(0,a.jsxs)(c.ZB,{className:"flex items-center gap-2 mcc-text-primary",children:[(0,a.jsx)(g.A,{className:"w-5 h-5"}),"Advanced Filters"]})}),(0,a.jsxs)(c.Wu,{className:"p-4 sm:p-6 space-y-4 sm:space-y-6 overflow-y-auto flex-1",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(x.J,{className:"text-sm font-medium mb-2 block mcc-text-primary",children:"Search"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(f.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,a.jsx)(d.p,{type:"text",placeholder:"Search items...",value:e,onChange:e=>t(e.target.value),className:"pl-10 border-gray-300"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x.J,{className:"text-sm font-medium mb-2 block mcc-text-primary",children:"Category"}),(0,a.jsxs)(m.l6,{value:s,onValueChange:l,children:[(0,a.jsx)(m.bq,{className:"border-gray-300",children:(0,a.jsx)(m.yv,{})}),(0,a.jsx)(m.gC,{children:S.map(e=>(0,a.jsx)(m.eb,{value:e,children:e},e))})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x.J,{className:"text-sm font-medium mb-2 block mcc-text-primary",children:"Type"}),(0,a.jsxs)(m.l6,{value:D,onValueChange:I,children:[(0,a.jsx)(m.bq,{className:"border-gray-300",children:(0,a.jsx)(m.yv,{})}),(0,a.jsxs)(m.gC,{children:[(0,a.jsx)(m.eb,{value:"All",children:"All Items"}),(0,a.jsx)(m.eb,{value:"lost",children:"Lost Items"}),(0,a.jsx)(m.eb,{value:"found",children:"Found Items"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x.J,{className:"text-sm font-medium mb-2 block mcc-text-primary",children:"Building"}),(0,a.jsxs)(m.l6,{value:R,onValueChange:E,children:[(0,a.jsx)(m.bq,{className:"border-gray-300",children:(0,a.jsx)(m.yv,{})}),(0,a.jsx)(m.gC,{children:L.map(e=>(0,a.jsx)(m.eb,{value:e,children:e},e))})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x.J,{className:"text-sm font-medium mb-2 block mcc-text-primary",children:"Cultural Event"}),(0,a.jsxs)(m.l6,{value:z,onValueChange:F,children:[(0,a.jsx)(m.bq,{className:"border-gray-300",children:(0,a.jsx)(m.yv,{})}),(0,a.jsx)(m.gC,{children:B.map(e=>(0,a.jsx)(m.eb,{value:e,children:e},e))})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x.J,{className:"text-sm font-medium mb-2 block mcc-text-primary",children:"Sort By"}),(0,a.jsxs)(m.l6,{value:M,onValueChange:$,children:[(0,a.jsx)(m.bq,{className:"border-gray-300",children:(0,a.jsx)(m.yv,{})}),(0,a.jsxs)(m.gC,{children:[(0,a.jsx)(m.eb,{value:"newest",children:"Newest First"}),(0,a.jsx)(m.eb,{value:"oldest",children:"Oldest First"}),(0,a.jsx)(m.eb,{value:"most-viewed",children:"Most Viewed"}),(0,a.jsx)(m.eb,{value:"most-liked",children:"Most Liked"}),(0,a.jsx)(m.eb,{value:"urgency",children:"By Urgency"})]})]})]})]})]})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-4 sm:mb-6 gap-3 sm:gap-0",children:[(0,a.jsx)("div",{children:(0,a.jsxs)("p",{className:"text-sm sm:text-base text-brand-text-dark",children:["Showing ",(0,a.jsx)("span",{className:"font-semibold mcc-text-primary",children:er.length})," of"," ",(0,a.jsx)("span",{className:"font-semibold mcc-text-primary",children:G.length})," items"]})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(n.$,{variant:"grid"===O?"default":"outline",size:"sm",onClick:()=>P("grid"),className:"grid"===O?"mcc-primary text-brand-text-light":"",children:[(0,a.jsx)(p.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"hidden sm:inline ml-1",children:"Grid"})]}),(0,a.jsxs)(n.$,{variant:"list"===O?"default":"outline",size:"sm",onClick:()=>P("list"),className:"list"===O?"mcc-primary text-brand-text-light":"",children:[(0,a.jsx)(j.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"hidden sm:inline ml-1",children:"List"})]})]})]}),Y?(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[...Array(6)].map((e,t)=>(0,a.jsxs)(c.Zp,{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-40 sm:h-48 bg-gray-200 rounded-t-lg"}),(0,a.jsxs)(c.Wu,{className:"p-3 sm:p-4",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,a.jsx)("div",{className:"h-3 bg-gray-200 rounded mb-2"}),(0,a.jsx)("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})]},t))}):"grid"===O?(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 auto-rows-fr",children:er.map(e=>(0,a.jsxs)(c.Zp,{className:"mcc-card hover:shadow-xl transition-all duration-300 group cursor-pointer overflow-hidden border-2 border-gray-200 flex flex-col",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("img",{src:e.itemImageUrl||e.imageUrl||"/placeholder.svg",alt:e.title,className:"w-full h-40 sm:h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),(0,a.jsx)("div",{className:"absolute top-2 left-2 w-3 h-3 rounded-full ".concat(ei(e.urgency)," animate-pulse")}),(0,a.jsx)("div",{className:"absolute top-2 right-2 flex gap-1",children:(0,a.jsx)(o.E,{variant:"lost"===e.status?"destructive":"default",className:"shadow-md ".concat("lost"===e.status?"bg-red-500":"bg-green-500"," text-white"),children:"lost"===e.status?"Lost":"Found"})})]}),(0,a.jsxs)(c.Wu,{className:"p-3 sm:p-4 flex-1 flex flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)(o.E,{variant:"outline",className:"text-xs border-brand-primary/30 mcc-text-primary",children:e.category}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.createdAt).toLocaleDateString()})]}),(0,a.jsx)(c.ZB,{className:"text-base sm:text-lg mb-2 group-hover:text-brand-primary transition-colors font-serif min-h-[1.75rem] line-clamp-1",children:e.title}),(0,a.jsx)(c.BT,{className:"mb-3 line-clamp-2 text-brand-text-dark min-h-[2.5rem]",children:e.description}),(0,a.jsxs)("div",{className:"space-y-1 text-xs sm:text-sm text-brand-text-dark mb-3 sm:mb-4 min-h-[2.5rem]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(b.A,{className:"w-4 h-4 mcc-text-primary"}),(0,a.jsx)("span",{className:"truncate",children:e.location})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(N.A,{className:"w-4 h-4 mcc-text-accent"}),new Date(e.createdAt).toLocaleDateString()]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-auto",children:[(0,a.jsx)("div",{className:"flex items-center gap-3",children:(0,a.jsxs)(n.$,{variant:"ghost",size:"sm",onClick:()=>{var t;return t=e._id,void Z(e=>{let s=new Set(e);return s.has(t)?s.delete(t):s.add(t),s})},className:"flex items-center gap-1 ".concat(V.has(e._id)?"text-red-500":"text-gray-500"),children:[(0,a.jsx)(v.A,{className:"w-4 h-4 ".concat(V.has(e._id)?"fill-current":"")}),+!!V.has(e._id)]})}),(0,a.jsxs)(n.$,{size:"sm",className:"mcc-accent hover:bg-red-700 text-white",onClick:()=>X(e),children:[(0,a.jsx)(y.A,{className:"w-4 h-4 mr-1"}),"Contact"]})]})]})]},e._id))}):(0,a.jsx)("div",{className:"space-y-4",children:er.map(e=>(0,a.jsx)(c.Zp,{className:"mcc-card hover:shadow-lg transition-all duration-300 border-2 border-gray-200",children:(0,a.jsx)(c.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("img",{src:e.itemImageUrl||e.imageUrl||"/placeholder.svg",alt:e.title,className:"w-24 h-24 object-cover rounded-lg"}),(0,a.jsx)("div",{className:"absolute top-1 left-1 w-2 h-2 rounded-full ".concat(ei(e.urgency)," animate-pulse")})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-1 mcc-text-primary font-serif",children:e.title}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(o.E,{variant:"lost"===e.status?"destructive":"default",className:"lost"===e.status?"bg-red-500 text-white":"bg-green-500 text-white",children:"lost"===e.status?"Lost":"Found"}),(0,a.jsx)(o.E,{variant:"outline",className:"border-brand-primary/30 mcc-text-primary",children:e.category})]})]}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()})]}),(0,a.jsx)("p",{className:"text-brand-text-dark mb-3 line-clamp-2",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-brand-text-dark",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(b.A,{className:"w-4 h-4 mcc-text-primary"}),e.location]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(N.A,{className:"w-4 h-4 mcc-text-accent"}),new Date(e.createdAt).toLocaleDateString()]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(w.A,{className:"w-4 h-4"}),"0"]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(v.A,{className:"w-4 h-4"}),+!!V.has(e._id)]})]}),(0,a.jsxs)(n.$,{size:"sm",className:"mcc-accent hover:bg-red-700 text-white text-xs sm:text-sm",onClick:()=>X(e),children:[(0,a.jsx)(y.A,{className:"w-4 h-4 mr-1"}),"Contact"]})]})]})]})})},e._id))}),0===er.length&&(0,a.jsxs)("div",{className:"text-center py-16",children:[(0,a.jsx)("div",{className:"w-32 h-32 mcc-primary rounded-full flex items-center justify-center mx-auto mb-8 shadow-2xl",children:(0,a.jsx)(f.A,{className:"w-16 h-16 text-brand-text-light"})}),(0,a.jsx)("h3",{className:"text-2xl font-semibold mb-2 mcc-text-primary font-serif",children:"No items found"}),(0,a.jsx)("p",{className:"text-gray-500 text-lg mb-4",children:"Try adjusting your filters or search terms."}),(0,a.jsx)(n.$,{onClick:()=>{t(""),l("All Categories"),I("All"),E("All Buildings"),U("All"),F("All Events"),_(!1)},className:"mcc-accent hover:bg-red-700 text-white",children:"Clear All Filters"})]})]})]})]}),(0,a.jsx)(k.A,{item:Q,isOpen:!!Q,onClose:()=>X(null),onStartChat:el})]})}},3097:(e,t,s)=>{Promise.resolve().then(s.bind(s,689))},3209:(e,t,s)=>{"use strict";s.d(t,{BT:()=>d,Wu:()=>o,ZB:()=>c,Zp:()=>i,aR:()=>n});var a=s(5155),r=s(2115),l=s(5016);let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});i.displayName="Card";let n=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s),...r})});n.displayName="CardHeader";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",s),...r})});c.displayName="CardTitle";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",s),...r})});d.displayName="CardDescription";let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",s),...r})});o.displayName="CardContent",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",s),...r})}).displayName="CardFooter"},4679:(e,t,s)=>{"use strict";s.d(t,{Cf:()=>x,L3:()=>u,c7:()=>h,lG:()=>c,zM:()=>d});var a=s(5155),r=s(2115),l=s(9511),i=s(5229),n=s(5016);let c=l.bL,d=l.l9,o=l.ZL;l.bm;let m=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.hJ,{ref:t,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r})});m.displayName=l.hJ.displayName;let x=r.forwardRef((e,t)=>{let{className:s,children:r,...c}=e;return(0,a.jsxs)(o,{children:[(0,a.jsx)(m,{}),(0,a.jsxs)(l.UC,{ref:t,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...c,children:[r,(0,a.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(i.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});x.displayName=l.UC.displayName;let h=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...s})};h.displayName="DialogHeader";let u=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.hE,{ref:t,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",s),...r})});u.displayName=l.hE.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.VY,{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...r})}).displayName=l.VY.displayName},5016:(e,t,s)=>{"use strict";s.d(t,{cn:()=>l});var a=s(2821),r=s(5889);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}},6170:(e,t,s)=>{"use strict";s.d(t,{p:()=>i});var a=s(5155),r=s(2115),l=s(5016);let i=r.forwardRef((e,t)=>{let{className:s,type:r,...i}=e;return(0,a.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...i})});i.displayName="Input"},7003:(e,t,s)=>{"use strict";s.d(t,{$:()=>d});var a=s(5155),r=s(2115),l=s(2467),i=s(3101),n=s(5016);let c=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 !text-white",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 !text-white",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:s,variant:r,size:i,asChild:d=!1,...o}=e,m=d?l.DX:"button";return(0,a.jsx)(m,{className:(0,n.cn)(c({variant:r,size:i,className:s})),ref:t,...o})});d.displayName="Button"},7507:(e,t,s)=>{"use strict";s.d(t,{bq:()=>x,eb:()=>f,gC:()=>g,l6:()=>o,yv:()=>m});var a=s(5155),r=s(2115),l=s(8229),i=s(4033),n=s(2108),c=s(5917),d=s(5016);let o=l.bL;l.YJ;let m=l.WT,x=r.forwardRef((e,t)=>{let{className:s,children:r,...n}=e;return(0,a.jsxs)(l.l9,{ref:t,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...n,children:[r,(0,a.jsx)(l.In,{asChild:!0,children:(0,a.jsx)(i.A,{className:"h-4 w-4 opacity-50"})})]})});x.displayName=l.l9.displayName;let h=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.PP,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(n.A,{className:"h-4 w-4"})})});h.displayName=l.PP.displayName;let u=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.wn,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(i.A,{className:"h-4 w-4"})})});u.displayName=l.wn.displayName;let g=r.forwardRef((e,t)=>{let{className:s,children:r,position:i="popper",...n}=e;return(0,a.jsx)(l.ZL,{children:(0,a.jsxs)(l.UC,{ref:t,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-gray-300 bg-gray-50 text-gray-900 shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:i,...n,children:[(0,a.jsx)(h,{}),(0,a.jsx)(l.LM,{className:(0,d.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(u,{})]})})});g.displayName=l.UC.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.JU,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...r})}).displayName=l.JU.displayName;let f=r.forwardRef((e,t)=>{let{className:s,children:r,...i}=e;return(0,a.jsxs)(l.q7,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-gray-200 hover:bg-gray-200 focus:text-gray-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...i,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(l.VF,{children:(0,a.jsx)(c.A,{className:"h-4 w-4"})})}),(0,a.jsx)(l.p4,{children:r})]})});f.displayName=l.q7.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.wv,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",s),...r})}).displayName=l.wv.displayName},7520:(e,t,s)=>{"use strict";s.d(t,{A:()=>u});var a=s(5155),r=s(4679),l=s(7812),i=s(7003),n=s(6617),c=s(1873),d=s(6485),o=s(508),m=s(3664),x=s(9141),h=s(5937);function u(e){var t,s,u;let{item:g,isOpen:f,onClose:p,onStartChat:j}=e;return g?(0,a.jsx)(r.lG,{open:f,onOpenChange:p,children:(0,a.jsxs)(r.Cf,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)(r.c7,{children:(0,a.jsxs)(r.L3,{className:"flex items-center gap-2",children:[(0,a.jsx)(n.A,{className:"w-5 h-5"}),"Item Details"]})}),(0,a.jsxs)("div",{className:"space-y-6",children:[(g.itemImageUrl||g.imageUrl)&&(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("img",{src:g.itemImageUrl||g.imageUrl,alt:g.title,className:"max-w-full h-64 object-cover rounded-lg shadow-md"})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-lg mb-2",children:g.title}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)(l.E,{className:(e=>{switch(e){case"lost":return"bg-red-500 text-white";case"found":return"bg-green-500 text-white";case"claimed":return"bg-orange-500 text-white";case"verified":return"bg-blue-500 text-white";default:return"bg-gray-500 text-white"}})(g.status),children:g.status.charAt(0).toUpperCase()+g.status.slice(1)}),(0,a.jsx)(l.E,{variant:"outline",children:g.category}),g.matchScore&&(0,a.jsxs)(l.E,{variant:"outline",className:"text-xs",children:[g.matchScore>=60?"\uD83D\uDD25 High Match":g.matchScore>=40?"â­ Good Match":"\uD83D\uDCA1 Possible Match"," (",g.matchScore,"%)"]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,a.jsx)(c.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:g.location})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,a.jsx)(d.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:new Date(g.date||g.createdAt).toLocaleDateString()})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold mb-2",children:"Description"}),(0,a.jsx)("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-lg",children:g.description})]}),g.reportedBy&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold mb-2",children:"Reported By"}),(0,a.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(o.A,{className:"w-4 h-4 text-blue-600"}),(0,a.jsx)("span",{className:"font-medium",children:g.reportedBy.name})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(m.A,{className:"w-4 h-4 text-blue-600"}),(0,a.jsx)("span",{className:"text-sm",children:g.reportedBy.email})]}),g.reportedBy.phone&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(x.A,{className:"w-4 h-4 text-blue-600"}),(0,a.jsx)("span",{className:"text-sm",children:g.reportedBy.phone})]})]})]}),g.contactInfo&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold mb-2",children:"Contact Information"}),(0,a.jsx)("p",{className:"text-sm bg-gray-50 p-3 rounded-lg",children:g.contactInfo})]}),(0,a.jsxs)("div",{className:"flex gap-2 pt-4 border-t",children:[(0,a.jsx)(i.$,{onClick:p,variant:"outline",className:"flex-1",children:"Close"}),(null==(t=g.reportedBy)?void 0:t.email)&&(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(i.$,{asChild:!0,className:"bg-blue-600 hover:bg-blue-700 text-white",children:(0,a.jsxs)("a",{href:"mailto:".concat(null==(s=g.reportedBy)?void 0:s.email,"?subject=Regarding ").concat(g.title,"&body=Hi ").concat(null==(u=g.reportedBy)?void 0:u.name,", I saw your ").concat(g.status,' item report for "').concat(g.title,'". '),children:[(0,a.jsx)(m.A,{className:"w-4 h-4 mr-2"}),"Email"]})}),j&&(0,a.jsxs)(i.$,{onClick:()=>j(g),className:"bg-green-600 hover:bg-green-700 text-white",children:[(0,a.jsx)(h.A,{className:"w-4 h-4 mr-2"}),"Start Chat"]})]})]})]})]})}):null}},7812:(e,t,s)=>{"use strict";s.d(t,{E:()=>n});var a=s(5155);s(2115);var r=s(3101),l=s(5016);let i=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:t,variant:s,...r}=e;return(0,a.jsx)("div",{className:(0,l.cn)(i({variant:s}),t),...r})}},8209:(e,t,s)=>{"use strict";s.d(t,{gL:()=>n,getAuthToken:()=>l,isAuthenticated:()=>o,logout:()=>m,setAuthToken:()=>i,setUserData:()=>c,validateToken:()=>d});let a="authToken",r="userData";function l(){return localStorage.getItem(a)}function i(e){localStorage.setItem(a,e)}function n(){let e=localStorage.getItem(r);return e?JSON.parse(e):null}function c(e){let t={id:String(e.id).replace(/[<>"'&]/g,""),name:String(e.name).replace(/[<>"'&]/g,""),email:String(e.email).replace(/[<>"'&]/g,""),role:e.role};localStorage.setItem(r,JSON.stringify(t))}async function d(e){try{return(await fetch("".concat("https://lost-found-79xn.onrender.com","/api/auth/validate"),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}})).ok}catch(e){return!1}}function o(){return!!l()}function m(){localStorage.removeItem(a),localStorage.removeItem(r),localStorage.removeItem("userType"),localStorage.removeItem("userName"),localStorage.removeItem("token"),window.location.href="/"}}},e=>{e.O(0,[5707,297,3083,5716,4741,8441,1255,7358],()=>e(e.s=3097)),_N_E=e.O()}]);