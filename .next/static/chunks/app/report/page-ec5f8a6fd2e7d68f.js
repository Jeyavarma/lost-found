(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7081],{63:(e,t,a)=>{"use strict";var r=a(7260);a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}})},235:(e,t,a)=>{"use strict";a.d(t,{J:()=>d});var r=a(5155),s=a(2115),l=a(489),i=a(3101),o=a(5016);let n=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.b,{ref:t,className:(0,o.cn)(n(),a),...s})});d.displayName=l.b.displayName},489:(e,t,a)=>{"use strict";a.d(t,{b:()=>o});var r=a(2115),s=a(7602),l=a(5155),i=r.forwardRef((e,t)=>(0,l.jsx)(s.sG.label,{...e,ref:t,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||(null==(a=e.onMouseDown)||a.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var o=i},1299:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>j});var r=a(5155),s=a(2115),l=a(9442),i=a(5626),o=a(6983),n=a(1873);let d=(0,a(1847).A)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);var c=a(1786),m=a(2619),u=a.n(m),x=a(63),h=a(7003),p=a(3209),f=a(6170),g=a(235),b=a(7001);let v=[{value:"main-building",label:"Main Building"},{value:"library",label:"Library"},{value:"cafeteria",label:"Cafeteria"},{value:"hostel",label:"Hostel"},{value:"sports-complex",label:"Sports Complex"},{value:"auditorium",label:"Auditorium"},{value:"parking",label:"Parking Area"},{value:"garden",label:"Garden/Campus Grounds"}],y=[{value:"electronics",label:"Electronics"},{value:"books",label:"Books & Stationery"},{value:"clothing",label:"Clothing & Accessories"},{value:"personal",label:"Personal Items"},{value:"documents",label:"Documents & Cards"},{value:"sports",label:"Sports Equipment"},{value:"other",label:"Other"}];function j(){let e=(0,x.useRouter)(),[t,a]=(0,s.useState)({title:"",description:"",category:"",location:"",building:"",floor:"",room:"",status:"lost",contactInfo:"",dateLostFound:"",timeLostFound:""}),[m,j]=(0,s.useState)(null),[N,w]=(0,s.useState)(null),[k,C]=(0,s.useState)(""),[F,A]=(0,s.useState)(""),[L,R]=(0,s.useState)(!1),[S,I]=(0,s.useState)(""),[M]=(0,s.useState)(new Date().toLocaleString("en-IN",{timeZone:"Asia/Kolkata",dateStyle:"full",timeStyle:"short"})),B=e=>{a({...t,[e.target.name]:e.target.value}),I("")},D=(e,t)=>{var a;let r=null==(a=e.target.files)?void 0:a[0];if(r){if(r.size>1048576)return void I("Image size should be less than 1MB");let e=new FileReader;e.onload=()=>{"item"===t?(j(r),C(e.result)):(w(r),A(e.result))},e.readAsDataURL(r)}},J=async a=>{a.preventDefault(),R(!0),I("");try{let a=new FormData;Object.entries(t).forEach(e=>{let[t,r]=e;a.append(t,r)}),m&&a.append("itemImage",m),N&&a.append("locationImage",N);let r=localStorage.getItem("token"),s=await fetch("https://lost-found-79xn.onrender.com/api/items",{method:"POST",headers:{Authorization:"Bearer ".concat(r)},body:a}),l=await s.json();s.ok?e.push("/dashboard"):I(l.message||"Failed to submit report")}catch(e){I("Failed to connect to server")}finally{R(!1)}};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("nav",{className:"mcc-primary border-b-4 border-brand-accent shadow-lg",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between h-20",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsxs)(u(),{href:"/",className:"flex items-center space-x-4",children:[(0,r.jsx)("div",{className:"w-12 h-12 mcc-accent rounded-lg flex items-center justify-center shadow-lg",children:(0,r.jsx)(l.A,{className:"w-6 h-6 text-brand-text-light"})}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"text-xl font-bold text-brand-text-light font-serif",children:"MCC Lost & Found"}),(0,r.jsx)("span",{className:"text-xs text-gray-300 font-medium",children:"Report Item"})]})]})}),(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)(u(),{href:"/dashboard",children:(0,r.jsxs)(h.$,{variant:"ghost",className:"flex items-center gap-2 text-brand-text-light hover:bg-white/10",children:[(0,r.jsx)(i.A,{className:"w-4 h-4"}),"Back to Dashboard"]})})})]})})}),(0,r.jsx)("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,r.jsxs)(p.Zp,{className:"mcc-card border-2 border-brand-primary/20 shadow-xl",children:[(0,r.jsxs)(p.aR,{className:"text-center",children:[(0,r.jsx)(p.ZB,{className:"text-3xl font-bold mcc-text-primary font-serif",children:"Report Lost/Found Item"}),(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-600 mt-2",children:[(0,r.jsx)(o.A,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:M})]})]}),(0,r.jsx)(p.Wu,{children:(0,r.jsxs)("form",{onSubmit:J,className:"space-y-6",children:[S&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-700",children:S}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(g.J,{htmlFor:"status",className:"text-sm font-medium mcc-text-primary",children:"Item Status *"}),(0,r.jsxs)("select",{name:"status",value:t.status,onChange:B,className:"w-full h-12 border border-gray-300 rounded-md px-3 focus:outline-none focus:ring-2 focus:ring-brand-primary",required:!0,children:[(0,r.jsx)("option",{value:"lost",children:"Lost Item"}),(0,r.jsx)("option",{value:"found",children:"Found Item"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(g.J,{htmlFor:"category",className:"text-sm font-medium mcc-text-primary",children:"Category *"}),(0,r.jsxs)("select",{name:"category",value:t.category,onChange:B,className:"w-full h-12 border border-gray-300 rounded-md px-3 focus:outline-none focus:ring-2 focus:ring-brand-primary",required:!0,children:[(0,r.jsx)("option",{value:"",children:"Select category"}),y.map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(g.J,{htmlFor:"title",className:"text-sm font-medium mcc-text-primary",children:"Item Title *"}),(0,r.jsx)(f.p,{name:"title",value:t.title,onChange:B,placeholder:"e.g., Black iPhone 13 with blue case",className:"h-12 focus:ring-brand-primary",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(g.J,{htmlFor:"description",className:"text-sm font-medium mcc-text-primary",children:"Description *"}),(0,r.jsx)(b.T,{name:"description",value:t.description,onChange:B,placeholder:"Provide detailed description including color, brand, distinctive features...",className:"min-h-24 focus:ring-brand-primary",required:!0})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)(g.J,{htmlFor:"dateLostFound",className:"text-sm font-medium mcc-text-primary",children:["Date ","lost"===t.status?"Lost":"Found"," *"]}),(0,r.jsx)(f.p,{name:"dateLostFound",type:"date",value:t.dateLostFound,onChange:B,className:"h-12 focus:ring-brand-primary",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)(g.J,{htmlFor:"timeLostFound",className:"text-sm font-medium mcc-text-primary",children:["Time ","lost"===t.status?"Lost":"Found"]}),(0,r.jsx)(f.p,{name:"timeLostFound",type:"time",value:t.timeLostFound,onChange:B,className:"h-12 focus:ring-brand-primary"})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)(g.J,{className:"text-sm font-medium mcc-text-primary flex items-center gap-2",children:[(0,r.jsx)(n.A,{className:"w-4 h-4"}),"Location Details *"]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(g.J,{htmlFor:"location",className:"text-xs text-gray-600",children:"Main Location"}),(0,r.jsxs)("select",{name:"location",value:t.location,onChange:B,className:"w-full h-10 border border-gray-300 rounded-md px-3 text-sm focus:outline-none focus:ring-2 focus:ring-brand-primary",required:!0,children:[(0,r.jsx)("option",{value:"",children:"Select location"}),v.map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(g.J,{htmlFor:"building",className:"text-xs text-gray-600",children:"Building/Block"}),(0,r.jsx)(f.p,{name:"building",value:t.building,onChange:B,placeholder:"e.g., Block A, Science Block",className:"h-10 text-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(g.J,{htmlFor:"floor",className:"text-xs text-gray-600",children:"Floor"}),(0,r.jsx)(f.p,{name:"floor",value:t.floor,onChange:B,placeholder:"e.g., Ground Floor, 2nd Floor",className:"h-10 text-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(g.J,{htmlFor:"room",className:"text-xs text-gray-600",children:"Room/Area"}),(0,r.jsx)(f.p,{name:"room",value:t.room,onChange:B,placeholder:"e.g., Room 201, Near stairs",className:"h-10 text-sm"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)(g.J,{className:"text-sm font-medium mcc-text-primary flex items-center gap-2",children:[(0,r.jsx)(d,{className:"w-4 h-4"}),"Item Photo (Optional)"]}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsx)("input",{type:"file",accept:"image/*",onChange:e=>D(e,"item"),className:"hidden",id:"item-image-upload"}),(0,r.jsx)("label",{htmlFor:"item-image-upload",className:"flex items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-brand-primary transition-colors",children:k?(0,r.jsx)("img",{src:k,alt:"Item Preview",className:"h-full w-full object-cover rounded-lg"}):(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(c.A,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Click to upload item photo"}),(0,r.jsx)("p",{className:"text-xs text-gray-400",children:"Max 1MB, auto-compressed"})]})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)(g.J,{className:"text-sm font-medium mcc-text-primary flex items-center gap-2",children:[(0,r.jsx)(n.A,{className:"w-4 h-4"}),"Location Photo (Optional)"]}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsx)("input",{type:"file",accept:"image/*",onChange:e=>D(e,"location"),className:"hidden",id:"location-image-upload"}),(0,r.jsx)("label",{htmlFor:"location-image-upload",className:"flex items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-brand-primary transition-colors",children:F?(0,r.jsx)("img",{src:F,alt:"Location Preview",className:"h-full w-full object-cover rounded-lg"}):(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(c.A,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Click to upload location photo"}),(0,r.jsx)("p",{className:"text-xs text-gray-400",children:"Max 1MB, shows where item was lost/found"})]})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(g.J,{htmlFor:"contactInfo",className:"text-sm font-medium mcc-text-primary",children:"Contact Information *"}),(0,r.jsx)(f.p,{name:"contactInfo",value:t.contactInfo,onChange:B,placeholder:"Your email or phone number",className:"h-12 focus:ring-brand-primary",required:!0})]}),(0,r.jsx)(h.$,{type:"submit",disabled:L,className:"w-full h-12 mcc-primary hover:opacity-90 text-brand-text-light font-medium text-lg shadow-lg",children:L?"Submitting...":"Submit Report"})]})})]})})]})}},1786:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1847).A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},1873:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1847).A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},3209:(e,t,a)=>{"use strict";a.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>n,Zp:()=>i,aR:()=>o});var r=a(5155),s=a(2115),l=a(5016);let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});i.displayName="Card";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",a),...s})});o.displayName="CardHeader";let n=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",a),...s})});n.displayName="CardTitle";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...s})});d.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",a),...s})});c.displayName="CardContent",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",a),...s})}).displayName="CardFooter"},5016:(e,t,a)=>{"use strict";a.d(t,{cn:()=>l});var r=a(2821),s=a(5889);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}},5301:(e,t,a)=>{Promise.resolve().then(a.bind(a,1299))},5626:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1847).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},6170:(e,t,a)=>{"use strict";a.d(t,{p:()=>i});var r=a(5155),s=a(2115),l=a(5016);let i=s.forwardRef((e,t)=>{let{className:a,type:s,...i}=e;return(0,r.jsx)("input",{type:s,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...i})});i.displayName="Input"},6983:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1847).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},7001:(e,t,a)=>{"use strict";a.d(t,{T:()=>i});var r=a(5155),s=a(2115),l=a(5016);let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...s})});i.displayName="Textarea"},7003:(e,t,a)=>{"use strict";a.d(t,{$:()=>d});var r=a(5155),s=a(2115),l=a(2467),i=a(3101),o=a(5016);let n=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 !text-white",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 !text-white",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:a,variant:s,size:i,asChild:d=!1,...c}=e,m=d?l.DX:"button";return(0,r.jsx)(m,{className:(0,o.cn)(n({variant:s,size:i,className:a})),ref:t,...c})});d.displayName="Button"},7602:(e,t,a)=>{"use strict";a.d(t,{hO:()=>n,sG:()=>o});var r=a(2115),s=a(7650),l=a(2467),i=a(5155),o=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let a=r.forwardRef((e,a)=>{let{asChild:r,...s}=e,o=r?l.DX:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(o,{...s,ref:a})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function n(e,t){e&&s.flushSync(()=>e.dispatchEvent(t))}},9442:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1847).A)("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]])}},e=>{e.O(0,[5707,297,8441,1255,7358],()=>e(e.s=5301)),_N_E=e.O()}]);