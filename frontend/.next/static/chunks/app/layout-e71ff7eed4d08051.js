(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177,8209],{1233:(e,t,s)=>{"use strict";s.d(t,{E$:()=>n,tk:()=>r});let n=(0,s(5988).vt)((e,t)=>({notifications:[],unreadCount:0,addNotification:t=>{let s={...t,id:Date.now().toString(),read:!1,createdAt:new Date};e(e=>({notifications:[s,...e.notifications],unreadCount:e.unreadCount+1}))},markAsRead:t=>{e(e=>({notifications:e.notifications.map(e=>e.id===t?{...e,read:!0}:e),unreadCount:Math.max(0,e.unreadCount-1)}))},markAllAsRead:()=>{e(e=>({notifications:e.notifications.map(e=>({...e,read:!0})),unreadCount:0}))},removeNotification:t=>{e(e=>{let s=e.notifications.find(e=>e.id===t);return{notifications:e.notifications.filter(e=>e.id!==t),unreadCount:s&&!s.read?Math.max(0,e.unreadCount-1):e.unreadCount}})},clearAll:()=>{e({notifications:[],unreadCount:0})}})),i={newMessage:(e,t,s)=>{n.getState().addNotification({type:"message",title:"\uD83D\uDCAC New Message",message:"".concat(e,' sent you a message about "').concat(t,'"'),itemId:s,itemTitle:t})}};class a{initialize(){"Notification"in window&&"default"===Notification.permission&&Notification.requestPermission()}showChatNotification(e,t,s,n){i.newMessage(e,n,s),"Notification"in window&&"granted"===Notification.permission&&new Notification("".concat(e," - ").concat(n),{body:t,icon:"/favicon.ico",tag:s})}}let r=new a},1290:()=>{},2180:(e,t,s)=>{"use strict";s.d(t,{Bc:()=>o,ZI:()=>d,k$:()=>l,m_:()=>c});var n=s(5155),i=s(2115),a=s(7520),r=s(5016);let o=a.Kq,c=a.bL,l=a.l9,d=i.forwardRef((e,t)=>{let{className:s,sideOffset:i=4,...o}=e;return(0,n.jsx)(a.UC,{ref:t,sideOffset:i,className:(0,r.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...o})});d.displayName=a.UC.displayName},2559:(e,t,s)=>{"use strict";s.d(t,{Fc:()=>c,TN:()=>l});var n=s(5155),i=s(2115),a=s(3101),r=s(5016);let o=(0,a.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),c=i.forwardRef((e,t)=>{let{className:s,variant:i,...a}=e;return(0,n.jsx)("div",{ref:t,role:"alert",className:(0,r.cn)(o({variant:i}),s),...a})});c.displayName="Alert",i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,n.jsx)("h5",{ref:t,className:(0,r.cn)("mb-1 font-medium leading-none tracking-tight",s),...i})}).displayName="AlertTitle";let l=i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,n.jsx)("div",{ref:t,className:(0,r.cn)("text-sm [&_p]:leading-relaxed",s),...i})});l.displayName="AlertDescription"},3045:(e,t,s)=>{"use strict";s.d(t,{default:()=>A});var n=s(5155),i=s(2115),a=s(3166),r=s(3738),o=s(5937),c=s(5998),l=s(4266),d=s(7624),u=s(7354),h=s(5229),m=s(6132),f=s(1169),g=s(7003),v=s(3209),x=s(7812),p=s(2180),b=s(2559),w=s(8209),k=s(9829),y=s(373);class C{connect(){return new Promise(e=>{var t;if(null==(t=this.socket)?void 0:t.connected)return void e(this.socket);let s=(0,w.getAuthToken)();if(!s){this.updateConnectionState({status:"error",error:"No authentication token"}),e(null);return}this.updateConnectionState({status:"connecting"});try{this.socket=(0,k.io)(y.f,{auth:{token:s},transports:["websocket","polling"],timeout:1e4,forceNew:!0,withCredentials:!0,autoConnect:!0,reconnection:!1}),this.setupEventListeners(),e(this.socket)}catch(t){this.updateConnectionState({status:"error",error:t instanceof Error?t.message:"Connection failed"}),e(null)}})}setupEventListeners(){this.socket&&(this.socket.on("connect",()=>{this.updateConnectionState({status:"connected",lastConnected:Date.now(),retryCount:0,error:void 0}),this.processMessageQueue(),this.startHealthCheck(),this.emit("connection_restored")}),this.socket.on("disconnect",e=>{this.updateConnectionState({status:"disconnected"}),this.stopHealthCheck(),this.emit("connection_lost",e),"io client disconnect"!==e&&this.scheduleReconnect()}),this.socket.on("connect_error",e=>{this.updateConnectionState({status:"error",error:e.message,retryCount:this.connectionState.retryCount+1}),this.emit("connection_error",e),this.scheduleReconnect()}),this.socket.on("pong",()=>{}))}scheduleReconnect(){if(this.connectionState.retryCount>=this.maxRetries)return void this.updateConnectionState({status:"error",error:"Max retries exceeded"});this.reconnectTimer&&clearTimeout(this.reconnectTimer);let e=Math.min(this.baseDelay*Math.pow(2,this.connectionState.retryCount),3e4);this.updateConnectionState({status:"reconnecting"}),this.reconnectTimer=setTimeout(()=>{this.connect()},e)}startHealthCheck(){this.healthCheckTimer&&clearInterval(this.healthCheckTimer),this.healthCheckTimer=setInterval(()=>{var e;(null==(e=this.socket)?void 0:e.connected)&&this.socket.emit("ping")},3e4)}stopHealthCheck(){this.healthCheckTimer&&(clearInterval(this.healthCheckTimer),this.healthCheckTimer=void 0)}sendMessage(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",n="msg_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),i={id:n,roomId:e,content:t,type:s,timestamp:Date.now(),status:"pending",retryCount:0};return this.messageQueue.push(i),this.isConnected()&&this.sendQueuedMessage(i),n}async sendQueuedMessage(e){var t;if(null==(t=this.socket)?void 0:t.connected){e.status="sending";try{await new Promise((t,s)=>{let n=setTimeout(()=>s(Error("Send timeout")),1e4);this.socket.emit("send_message",{messageId:e.id,roomId:e.roomId,content:e.content,type:e.type},i=>{clearTimeout(n),i.success?(e.status="sent",t()):s(Error(i.error||"Send failed"))})})}catch(t){e.status="failed",e.retryCount++,e.retryCount<3&&setTimeout(()=>this.sendQueuedMessage(e),5e3)}}}processMessageQueue(){this.messageQueue.filter(e=>"pending"===e.status||"failed"===e.status).forEach(e=>{e.retryCount<3&&this.sendQueuedMessage(e)})}on(e,t){this.listeners.has(e)||this.listeners.set(e,[]),this.listeners.get(e).push(t),this.socket&&!["connection_restored","connection_lost","connection_error"].includes(e)&&this.socket.on(e,t)}off(e,t){if(t){let s=this.listeners.get(e)||[],n=s.indexOf(t);n>-1&&s.splice(n,1)}else this.listeners.delete(e);this.socket&&this.socket.off(e,t)}emit(e){for(var t=arguments.length,s=Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];(this.listeners.get(e)||[]).forEach(e=>e(...s))}updateConnectionState(e){this.connectionState={...this.connectionState,...e},this.emit("connection_state_changed",this.connectionState)}getConnectionState(){return{...this.connectionState}}isConnected(){var e;return(null==(e=this.socket)?void 0:e.connected)||!1}getSocket(){return this.socket}getPendingMessages(e){return this.messageQueue.filter(t=>("pending"===t.status||"failed"===t.status)&&(!e||t.roomId===e))}disconnect(){this.reconnectTimer&&clearTimeout(this.reconnectTimer),this.healthCheckTimer&&clearInterval(this.healthCheckTimer),this.socket&&(this.socket.disconnect(),this.socket=null),this.updateConnectionState({status:"disconnected"})}joinRoom(e){var t;(null==(t=this.socket)?void 0:t.connected)&&this.socket.emit("join_room",e)}leaveRoom(e){var t;(null==(t=this.socket)?void 0:t.connected)&&this.socket.emit("leave_room",e)}markMessagesRead(e){var t;(null==(t=this.socket)?void 0:t.connected)&&this.socket.emit("mark_read",{messageIds:e})}constructor(){this.socket=null,this.connectionState={status:"disconnected",retryCount:0},this.messageQueue=[],this.listeners=new Map,this.maxRetries=5,this.baseDelay=1e3}}let N=new C;var j=s(4969),S=s(3637);function A(){let[e,t]=(0,i.useState)(!1),[s,k]=(0,i.useState)(!1),[C,A]=(0,i.useState)(!1),[_,T]=(0,i.useState)(null),[I,E]=(0,i.useState)(!1),[R,M]=(0,i.useState)(""),[z,O]=(0,i.useState)(!1),[P,L]=(0,i.useState)(0),[D,$]=(0,i.useState)({status:"disconnected",retryCount:0}),[B,H]=(0,i.useState)(!1),[Q,F]=(0,i.useState)(null),[U,Z]=(0,i.useState)(!1),[q,K]=(0,i.useState)(!1),J=(0,i.useRef)(!1);(0,i.useEffect)(()=>{let e=(0,w.isAuthenticated)();if(E(e),e&&!J.current){J.current=!0;let e=(0,w.gL)();M((null==e?void 0:e.id)||""),V()}},[]),(0,i.useEffect)(()=>{let e=e=>{$(e),"error"===e.status?(F(e.error||"Connection failed"),K(!0)):"connected"===e.status&&(F(null),K(!1),X())},s=e=>{let{roomId:s,room:n}=e.detail;t(!0),n&&T(n)};return N.on("connection_state_changed",e),N.on("connection_restored",()=>{F(null),K(!1),X()}),N.on("new_message",Y),window.addEventListener("openChat",s),()=>{N.off("connection_state_changed",e),N.off("connection_restored"),N.off("new_message",Y),window.removeEventListener("openChat",s)}},[R]);let V=(0,i.useCallback)(async()=>{if(!U){Z(!0),F(null);try{await N.connect(),await X(),await G()}catch(e){F("Failed to initialize chat system"),console.error("Chat initialization error:",e)}finally{Z(!1)}}},[U]),X=(0,i.useCallback)(async()=>{if(I)try{let e=await fetch("".concat(y.f,"/api/chat/rooms"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(e.ok){let t=await e.json();O(t.length>0);let s=t.reduce((e,t)=>e+(t.unreadCount||0),0);L(s)}}catch(e){console.error("Failed to load chat rooms:",e)}},[I]),Y=(0,i.useCallback)(e=>{e.senderId!==R&&(L(e=>e+1),W(e))},[R]),W=(0,i.useCallback)(e=>{if(B&&"visible"!==document.visibilityState&&"Notification"in window&&"granted"===Notification.permission){let s=new Notification("New Message",{body:e.content,icon:"/favicon.ico",tag:"chat-message",requireInteraction:!1});s.onclick=()=>{window.focus(),t(!0),s.close()},setTimeout(()=>s.close(),5e3)}},[B]),G=(0,i.useCallback)(async()=>{"Notification"in window&&H("granted"===await Notification.requestPermission())},[]),ee=(0,i.useCallback)(e=>{T(e),L(t=>Math.max(0,t-(e.unreadCount||0)))},[]),et=(0,i.useCallback)(()=>{T(null)},[]),es=(0,i.useCallback)(()=>{F(null),V()},[V]);return I||z?(0,n.jsxs)(p.Bc,{children:[!e&&(0,n.jsxs)(p.m_,{children:[(0,n.jsx)(p.k$,{asChild:!0,children:(0,n.jsx)(g.$,{onClick:()=>{if(!I){window.location.href="/login";return}t(!0),N.isConnected()||V()},className:"fixed bottom-6 right-6 w-14 h-14 rounded-full shadow-lg z-50 p-0 transition-all duration-300 ".concat("connected"===D.status?"bg-blue-600 hover:bg-blue-700":"bg-gray-500 hover:bg-gray-600"),"aria-label":"Open chat",children:(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(o.A,{className:"w-6 h-6 text-white"}),P>0&&(0,n.jsx)(x.E,{className:"absolute -top-2 -right-2 w-5 h-5 p-0 flex items-center justify-center bg-red-500 text-white text-xs","aria-label":"".concat(P," unread messages"),children:P>99?"99+":P}),"connected"!==D.status&&(0,n.jsx)("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-white rounded-full flex items-center justify-center",children:(0,n.jsx)(r.A,{className:"w-2 h-2 text-red-500"})})]})})}),(0,n.jsx)(p.ZI,{side:"left",children:(0,n.jsx)("p",{children:I?"connected"===D.status?"Open messages":"Chat offline - Click to retry":"Login to chat"})})]}),e&&(0,n.jsx)("div",{className:"fixed bottom-6 right-6 z-50 transition-all duration-300 ".concat(C?"w-96 h-[600px] md:w-[500px] md:h-[700px]":s?"w-80 h-12":"w-80 h-96 md:w-96 md:h-[500px]"),children:(0,n.jsxs)(v.Zp,{className:"h-full shadow-xl border-2 flex flex-col",children:[(0,n.jsx)(v.aR,{className:"p-3 bg-blue-600 text-white rounded-t-lg flex-shrink-0",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 min-w-0",children:[(0,n.jsx)(v.ZB,{className:"text-sm font-medium truncate",children:_?_.itemId.title:"Messages"}),(0,n.jsxs)(p.m_,{children:[(0,n.jsx)(p.k$,{asChild:!0,children:(0,n.jsx)("div",{className:"flex items-center",children:(()=>{switch(D.status){case"connected":return(0,n.jsx)(a.A,{className:"w-3 h-3 text-green-400"});case"connecting":case"reconnecting":return(0,n.jsx)("div",{className:"w-3 h-3 border border-yellow-400 border-t-transparent rounded-full animate-spin"});default:return(0,n.jsx)(r.A,{className:"w-3 h-3 text-red-400"})}})()})}),(0,n.jsx)(p.ZI,{children:(0,n.jsx)("p",{children:"connected"===D.status?"Connected":"connecting"===D.status?"Connecting...":"reconnecting"===D.status?"Reconnecting...":"Disconnected"})})]}),I&&(0,n.jsxs)(p.m_,{children:[(0,n.jsx)(p.k$,{asChild:!0,children:(0,n.jsx)(g.$,{variant:"ghost",size:"sm",onClick:()=>H(!B),className:"text-white hover:bg-blue-700 p-1 h-5 w-5",children:B?(0,n.jsx)(c.A,{className:"w-3 h-3"}):(0,n.jsx)(l.A,{className:"w-3 h-3"})})}),(0,n.jsx)(p.ZI,{children:(0,n.jsx)("p",{children:B?"Disable notifications":"Enable notifications"})})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-1 flex-shrink-0",children:[(0,n.jsx)(g.$,{variant:"ghost",size:"sm",onClick:()=>A(!C),className:"text-white hover:bg-blue-700 p-1 h-6 w-6",children:C?(0,n.jsx)(d.A,{className:"w-3 h-3"}):(0,n.jsx)(u.A,{className:"w-3 h-3"})}),(0,n.jsx)(g.$,{variant:"ghost",size:"sm",onClick:()=>k(!s),className:"text-white hover:bg-blue-700 p-1 h-6 w-6",children:(0,n.jsx)(d.A,{className:"w-3 h-3"})}),(0,n.jsx)(g.$,{variant:"ghost",size:"sm",onClick:()=>{t(!1),T(null),k(!1),A(!1)},className:"text-white hover:bg-blue-700 p-1 h-6 w-6",children:(0,n.jsx)(h.A,{className:"w-3 h-3"})})]})]})}),(Q||q)&&!s&&(0,n.jsxs)(b.Fc,{className:"m-2 border-red-200 bg-red-50",children:[(0,n.jsx)(m.A,{className:"h-4 w-4 text-red-600"}),(0,n.jsxs)(b.TN,{className:"text-red-800 text-sm",children:[Q||"You are offline. Messages will be sent when connection is restored.","error"===D.status&&(0,n.jsx)(g.$,{variant:"link",size:"sm",onClick:es,className:"ml-2 p-0 h-auto text-red-600 underline",children:"Retry"})]})]}),!s&&(0,n.jsx)(v.Wu,{className:"p-0 flex-1 overflow-hidden",children:I?U?(0,n.jsxs)("div",{className:"p-4 text-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,n.jsx)("p",{className:"text-sm text-gray-500",children:"Initializing chat..."})]}):_?(0,n.jsx)(S.A,{room:_,currentUserId:R,onBack:et}):(0,n.jsx)(j.A,{onSelectRoom:ee,currentUserId:R}):(0,n.jsxs)("div",{className:"p-4 text-center",children:[(0,n.jsx)(f.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,n.jsx)("h3",{className:"font-medium text-gray-900 mb-2",children:"Login Required"}),(0,n.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Please login to start chatting with other users"}),(0,n.jsx)(g.$,{onClick:()=>window.location.href="/login",className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Login"})]})})]})})]}):null}},3209:(e,t,s)=>{"use strict";s.d(t,{BT:()=>l,Wu:()=>d,ZB:()=>c,Zp:()=>r,aR:()=>o});var n=s(5155),i=s(2115),a=s(5016);let r=i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...i})});r.displayName="Card";let o=i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",s),...i})});o.displayName="CardHeader";let c=i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",s),...i})});c.displayName="CardTitle";let l=i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",s),...i})});l.displayName="CardDescription";let d=i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",s),...i})});d.displayName="CardContent",i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",s),...i})}).displayName="CardFooter"},5016:(e,t,s)=>{"use strict";s.d(t,{cn:()=>a});var n=s(2821),i=s(5889);function a(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,i.QP)((0,n.$)(t))}},6957:(e,t,s)=>{"use strict";s.d(t,{default:()=>l});var n=s(5155),i=s(2115),a=s(373),r=s(8209);class o{initialize(){this.startHeartbeat(),this.trackActivity(),document.addEventListener("visibilitychange",()=>{document.hidden?this.setOffline():(this.setOnline(),this.startHeartbeat())}),window.addEventListener("beforeunload",()=>{this.setOffline()})}startHeartbeat(){this.heartbeatInterval&&clearInterval(this.heartbeatInterval),this.heartbeatInterval=setInterval(()=>{this.isActive&&this.sendHeartbeat()},6e4)}async sendHeartbeat(){try{let e=(0,r.getAuthToken)();if(!e)return;let t=/Mobile|Android|iPhone|iPad/.test(navigator.userAgent)?"mobile":"desktop";await fetch("".concat(a.f,"/api/presence/heartbeat"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({deviceType:t})})}catch(e){console.error("Heartbeat failed:",e)}}async setOffline(){try{let e=(0,r.getAuthToken)();if(!e)return;await fetch("".concat(a.f,"/api/presence/offline"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}catch(e){console.error("Set offline failed:",e)}}setOnline(){this.isActive=!0,this.sendHeartbeat()}trackActivity(){let e,t=()=>{this.isActive=!0,clearTimeout(e),e=setTimeout(()=>{this.isActive=!1},3e5)};["mousedown","mousemove","keypress","scroll","touchstart"].forEach(e=>{document.addEventListener(e,t,!0)}),t()}destroy(){this.heartbeatInterval&&clearInterval(this.heartbeatInterval),this.setOffline()}constructor(){this.heartbeatInterval=null,this.isActive=!0}}let c=new o;function l(e){let{children:t}=e;return(0,i.useEffect)(()=>((0,r.isAuthenticated)()&&c.initialize(),()=>{c.destroy()}),[]),(0,n.jsx)(n.Fragment,{children:t})}},7003:(e,t,s)=>{"use strict";s.d(t,{$:()=>l});var n=s(5155),i=s(2115),a=s(2467),r=s(3101),o=s(5016);let c=(0,r.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 !text-white",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 !text-white",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=i.forwardRef((e,t)=>{let{className:s,variant:i,size:r,asChild:l=!1,...d}=e,u=l?a.DX:"button";return(0,n.jsx)(u,{className:(0,o.cn)(c({variant:i,size:r,className:s})),ref:t,...d})});l.displayName="Button"},7812:(e,t,s)=>{"use strict";s.d(t,{E:()=>o});var n=s(5155);s(2115);var i=s(3101),a=s(5016);let r=(0,i.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:s,...i}=e;return(0,n.jsx)("div",{className:(0,a.cn)(r({variant:s}),t),...i})}},8209:(e,t,s)=>{"use strict";s.d(t,{gL:()=>c,getAuthToken:()=>r,isAuthenticated:()=>u,logout:()=>h,setAuthToken:()=>o,setUserData:()=>l,validateToken:()=>d});var n=s(5704);let i=n.env.NEXT_PUBLIC_AUTH_TOKEN_KEY||"mcc_auth_token",a=n.env.NEXT_PUBLIC_USER_DATA_KEY||"mcc_user_data";function r(){return localStorage.getItem(i)}function o(e){localStorage.setItem(i,e)}function c(){let e=localStorage.getItem(a);return e?JSON.parse(e):null}function l(e){let t={id:String(e.id).replace(/[<>"'&]/g,""),name:String(e.name).replace(/[<>"'&]/g,""),email:String(e.email).replace(/[<>"'&]/g,""),role:e.role};localStorage.setItem(a,JSON.stringify(t))}async function d(e){try{return(await fetch("".concat("https://lost-found-79xn.onrender.com","/api/auth/validate"),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}})).ok}catch(e){return!1}}function u(){return!!r()}function h(){localStorage.removeItem(i),localStorage.removeItem(a),localStorage.removeItem("userType"),localStorage.removeItem("userName"),localStorage.removeItem("token"),window.location.href="/"}},9680:(e,t,s)=>{Promise.resolve().then(s.bind(s,3045)),Promise.resolve().then(s.bind(s,6957)),Promise.resolve().then(s.t.bind(s,2311,23)),Promise.resolve().then(s.t.bind(s,7183,23)),Promise.resolve().then(s.t.bind(s,1290,23))}},e=>{e.O(0,[5373,1741,5707,7856,1332,2680,6471,1309,8441,1255,7358],()=>e(e.s=9680)),_N_E=e.O()}]);